<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://fade-color.github.io</id>
    <title>七年的万事屋</title>
    <updated>2021-04-20T02:52:33.862Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://fade-color.github.io"/>
    <link rel="self" href="https://fade-color.github.io/atom.xml"/>
    <subtitle>温故而知新</subtitle>
    <logo>https://fade-color.github.io/images/avatar.png</logo>
    <icon>https://fade-color.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, 七年的万事屋</rights>
    <entry>
        <title type="html"><![CDATA[机器学习笔记01. K-近邻算法简介]]></title>
        <id>https://fade-color.github.io/post/ji-qi-xue-xi-bi-ji-01-k-jin-lin-suan-fa-jian-jie/</id>
        <link href="https://fade-color.github.io/post/ji-qi-xue-xi-bi-ji-01-k-jin-lin-suan-fa-jian-jie/">
        </link>
        <updated>2021-04-18T08:01:08.000Z</updated>
        <content type="html"><![CDATA[<h3 id="11-k-近邻算法knn概念">1.1. K-近邻算法(KNN)概念</h3>
<p>K Nearest Neighbor算法又叫KNN算法</p>
<ul>
<li>
<p>定义：</p>
<p>如果一个样本在特征空间中的<strong>k个最相似(即特征空间中最近邻)的样本中的大多数属于某一个类别</strong>，则该样本也属于这个类别。</p>
</li>
<li>
<p>距离公式：</p>
<p>两个样本的距离可以通过如下公式计算，又叫欧式距离</p>
<ul>
<li>
<p>二维平面上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>三维空间上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1,z_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2,z_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>z</mi><mn>1</mn></msub><mo>−</mo><msub><mi>z</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2+(z_1-z_2)^2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>n维空间上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mo>(</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>k</mi></mrow></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{\sum_{k=1}^n{(x_{1k}-x_{2k})^2}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1812600000000004em;vertical-align:-1.302113em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8791470000000003em;"><span class="svg-align" style="top:-5.141260000000001em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.8391470000000005em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.2212600000000005em;"><svg width='400em' height='3.2212600000000005em' viewBox='0 0 400000 3221' preserveAspectRatio='xMinYMin slice'><path d='M702 80H400000v40H742v3087l-4 4-4 4c-.667.7
-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667
-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155
 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
</ul>
</li>
</ul>
<h3 id="12-算法流程总结">1.2. 算法流程总结</h3>
<ol>
<li>计算已知类别数据集中的点与当前点的距离</li>
<li>按距离递增次序排序</li>
<li>选取与当前点距离最小的k个点</li>
<li>统计前k个点所在的类别出现的概率</li>
<li>返回前k个点出现频率最高的类别作为当前点的预测分类</li>
</ol>
<h2 id="2-k近邻算法api初步使用">2. K近邻算法api初步使用</h2>
<h3 id="21-scikit-learn功能">2.1. Scikit-learn功能</h3>
<ul>
<li>分类、聚类、回归</li>
<li>特征工程</li>
<li>模型选择、调优</li>
</ul>
<h3 id="22-k-近邻算法api">2.2. K-近邻算法API</h3>
<ul>
<li><strong>sklearn.neighbors.KNeighborsClassifier(n_neighbors=5)</strong>
<ul>
<li>n_neighbors：int，可选（默认为5），k_neighbors查询默认使用的邻居数</li>
</ul>
</li>
</ul>
<h3 id="23-案例">2.3. 案例</h3>
<h4 id="231-步骤分析">2.3.1. 步骤分析</h4>
<ul>
<li>
<ol>
<li>获取数据集</li>
</ol>
</li>
<li>
<ol start="2">
<li>数据基本处理（暂时省略）</li>
</ol>
</li>
<li>
<ol start="3">
<li>特征工程（暂时省略）</li>
</ol>
</li>
<li>
<ol start="4">
<li>机器学习</li>
</ol>
</li>
<li>
<ol start="5">
<li>模型评估（暂时省略）</li>
</ol>
</li>
</ul>
<h4 id="232-代码过程">2.3.2. 代码过程</h4>
<ul>
<li>
<p>导入模块</p>
<pre><code class="language-python">from sklearn.neighbors import KNeighborsClassifier
</code></pre>
</li>
<li>
<p>构造数据集</p>
<pre><code class="language-python">x = [[0], [1], [2], [3]]
y = [0, 0, 1, 1]
</code></pre>
</li>
<li>
<p>机器学习 -- 模型训练</p>
<pre><code class="language-python"># 2.1.实例化一个估计器对象
estimator = KNeighborsClassifier(n_neighbors=1)

# 2.2.调用fit方法进行训练
estimator.fit(x, y)

# 3.数据预测
ret = estimator.predict([[100]])
</code></pre>
</li>
</ul>
<h2 id="3-距离度量">3. 距离度量</h2>
<h3 id="31-距离公式的基本性质">3.1. 距离公式的基本性质</h3>
<p>在机器学习过程中，对于函数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">dist(.,.)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mclose">)</span></span></span></span> ，若它是一“距离度量”(distance measure)，则需满足一些基本性质：</p>
<ul>
<li>非负性： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>X</mi><mi>j</mi></msub><mo>)</mo><mo>&gt;</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">dist(X_i,X_j)&gt;=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> ；</li>
<li>同一性： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">dist(x_i,x_j)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 。当且仅当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub><mo>=</mo><msub><mi>X</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">X_i=X_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> ；</li>
<li>对称性： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>)</mo><mo>=</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">dist(x_i,x_j)=dist(x_j,x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ；</li>
<li>直递性： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>)</mo><mo>&lt;</mo><mo>=</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>k</mi></msub><mo>)</mo><mo>+</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">dist(x_i,x_j)&lt;=dist(x_i,x_k)+dist(x_k,x_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ；</li>
</ul>
<blockquote>
<p>直递性常被称为“三角不等式”。</p>
</blockquote>
<h3 id="32-常见距离公式">3.2. 常见距离公式</h3>
<h4 id="321-欧氏距离euclidean-distance">3.2.1. 欧氏距离(Euclidean Distance)：</h4>
<ul>
<li>
<p>二维平面上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>三维空间上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1,z_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2,z_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>z</mi><mn>1</mn></msub><mo>−</mo><msub><mi>z</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2+(z_1-z_2)^2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>n维空间上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mo>(</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>k</mi></mrow></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{\sum_{k=1}^n{(x_{1k}-x_{2k})^2}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1812600000000004em;vertical-align:-1.302113em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8791470000000003em;"><span class="svg-align" style="top:-5.141260000000001em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.8391470000000005em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.2212600000000005em;"><svg width='400em' height='3.2212600000000005em' viewBox='0 0 400000 3221' preserveAspectRatio='xMinYMin slice'><path d='M702 80H400000v40H742v3087l-4 4-4 4c-.667.7
-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667
-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155
 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
</ul>
<h4 id="322-曼哈顿距离manhattan-distance">3.2.2. 曼哈顿距离(Manhattan Distance)：</h4>
<ul>
<li>
<p>二维平面两点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的曼哈顿距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mo>+</mo><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">d_{12}=|x_1-x_2|+|y_1-y_2|
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></p>
</li>
<li>
<p>n维空间点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 的曼哈顿距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mrow><mn>1</mn><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>k</mi></mrow></msub><mi mathvariant="normal">∣</mi></mrow></mrow><annotation encoding="application/x-tex">d_{12}=\sum_{k=1}^{n}{|x_{1k}-x_{2k}|}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.9535100000000005em;vertical-align:-1.302113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></span></p>
</li>
</ul>
<h4 id="323-切比雪夫距离chebyshev-distance">3.2.3. 切比雪夫距离(Chebyshev Distance)：</h4>
<ul>
<li>
<p>二维平面两点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的曼哈顿距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><mi>max</mi><mo>⁡</mo><mrow><mo>(</mo><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mo separator="true">,</mo><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mo>)</mo></mrow></mrow><annotation encoding="application/x-tex">d_{12}=\max{(|x_1-x_2|,|y_1-y_2|)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mclose">)</span></span></span></span></span></span></p>
</li>
<li>
<p>n维空间点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 的曼哈顿距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><mi>max</mi><mo>⁡</mo><mrow><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mrow><mn>1</mn><mi>i</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>i</mi></mrow></msub><mi mathvariant="normal">∣</mi></mrow></mrow><annotation encoding="application/x-tex">d_{12}=\max{|x_{1i}-x_{2i}|}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></span></p>
</li>
</ul>
<h4 id="324-闵可夫斯基距离minkowski-distance">3.2.4. 闵可夫斯基距离(Minkowski Distance)：</h4>
<p>闵氏距离不是一种距离，而是一组距离的定义，是对多个距离度量公式的概括性的表述。</p>
<p>两个n维变量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的闵可夫斯基距离定义为：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><mroot><mrow><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mrow><mn>1</mn><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>k</mi></mrow></msub><msup><mi mathvariant="normal">∣</mi><mi>p</mi></msup></mrow></mrow><mi>p</mi></mroot></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt[p]{\sum_{k=1}^n{|x_{1k}-x_{2k}|^p}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1812600000000004em;vertical-align:-1.302113em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5615004000000001em;"><span style="top:-2.8462204000000004em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8791470000000003em;"><span class="svg-align" style="top:-5.141260000000001em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.590392em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.8391470000000005em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.2212600000000005em;"><svg width='400em' height='3.2212600000000005em' viewBox='0 0 400000 3221' preserveAspectRatio='xMinYMin slice'><path d='M702 80H400000v40H742v3087l-4 4-4 4c-.667.7
-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667
-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155
 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>其中p是一个可变参数：</p>
<ul>
<li>当p=1时，就是曼哈顿距离；</li>
<li>当p=2时，就是欧氏距离；</li>
<li>当p→∞时，就是切比雪夫距离。</li>
</ul>
<p><strong>缺点：</strong></p>
<ol>
<li>将各个分量的量纲(scale)，也就是“单位”相同的看待了；</li>
<li>未考虑各个分量的分布(期望、方差等)可能是不同的。</li>
</ol>
<h3 id="33-连续属性和离散属性的距离计算">3.3. “连续属性”和“离散属性”的距离计算</h3>
<ul>
<li>若属性之间存在序关系，则可以将其转化为连续值，例如：身高属性“高”“中”“矮”，可转化为{1, 0.5, 0}。
<ul>
<li>闵可夫斯基距离可以用于有序属性。</li>
</ul>
</li>
<li>若属性值之间不存在序关系，则通常将其转化为向量的形式，例如：性别属性“男”“女”，可转化为{(1, 0), (0, 1)}。</li>
</ul>
<h2 id="4-k值的选择">4. K值的选择</h2>
<ul>
<li>
<p><strong>K值过小</strong>：容易受到异常点的影响</p>
<p><strong>K值得减小就意味着整体模型变得复杂，容易发生过拟合</strong></p>
</li>
<li>
<p><strong>K值过大</strong>：容易遇到样本均衡问题</p>
<p>K值较大，与输入实例较远（不相似的）训练实例也会对预测器作用，使预测发生错误，<strong>K值的增大就意味着整体的模型变得简单，容易发生欠拟合</strong></p>
</li>
</ul>
<hr>
<ul>
<li>近似误差
<ul>
<li>对现有训练集的训练误差，关注<strong>训练集</strong></li>
<li>如果<strong>近似误差过小可能会出现过拟合的现象</strong></li>
<li>模型本身不是最接近最佳模型</li>
</ul>
</li>
<li>估计误差
<ul>
<li>可以理解为对测试集的测试误差，关注<strong>测试集</strong></li>
<li>估计误差小可以说明对未知数据的预测能力好</li>
<li>模型本身最接近最佳模型</li>
</ul>
</li>
</ul>
<h2 id="5-kd树">5. kd树</h2>
<p>实现K近邻算法时，<strong>主要的问题是如何对训练数据进行快速K近邻搜索</strong>。</p>
<p><strong>K近邻算法最简单的实现是线性扫描（穷举搜索），即要计算输入实例与每一个训练实例的距离。计算并存储好以后，再查找K近邻。</strong></p>
<h3 id="51-kd树">5.1. kd树</h3>
<p>为了避免每次都重新计算一遍距离，算法会把距离信息保存在一棵树里，这样在计算之前从树里查询距离信息，尽量避免计算。其基本原理是，<strong>如果A和B距离很远，B和C距离很近，那么A和C的距离也很远</strong>。有了这个信息，就可以在合适的时候跳过距离远的点。</p>
<p>这样优化后的算法复杂度可降低到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>D</mi><mi>N</mi><mi>log</mi><mo>⁡</mo><mrow><mo>(</mo><mi>N</mi><mo>)</mo></mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">O(DN\log{(N)})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span><span class="mclose">)</span></span></span></span> 。</p>
<h3 id="52-构造方法">5.2. 构造方法</h3>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2021/03/28/lMNWQaq6E8VGIK7.jpg" alt="kd-tree" loading="lazy"></figure>
<ol>
<li><strong>构造根节点，使根节点对应于K维空间中包含所有实例点的超矩形区域；</strong></li>
<li><strong>通过递归的方法，不断地对K维空间进行切分，生成子节点。</strong></li>
<li><strong>重复上述过程直到子区域内没有实例时终止（终止时的节点为叶节点）。</strong></li>
</ol>
<p>通常，循环选择坐标轴对空间切分，选择训练实例点在坐标轴上的中位数为切分点，这样得到的kd树是平衡的（平衡二叉树）。</p>
<p>kd树中每个节点是一个向量，和二叉树按照数的大小划分不同的是，kd树每层需要选定向量中的某一维，然后根据这一维按左小右大的方式划分数据。在构建kd树时，关键需要解决两个问题：</p>
<p><strong>(1). 选择向量的哪一维进行划分；</strong></p>
<ul>
<li>可以随机选择某一维度或按顺序选择，但更好的方法应是<strong>在数据比较分散的那一维进行划分（分散的程度可以根据方差进行衡量）；</strong></li>
</ul>
<p><strong>(2). 如何划分数据；</strong></p>
<ul>
<li>好的划分方法可以使构建的树比较平衡，可以选择中位数进行划分。</li>
</ul>
<h3 id="53-案例分析">5.3. 案例分析</h3>
<h4 id="531-树的建立">5.3.1. 树的建立</h4>
<p>给定一个二维空间数据集：<code>T={(2, 3), (5, 4), (9, 6), (4, 7), (8, 1), (7, 2)}</code>，构造一个平衡kd树。</p>
<ul>
<li>
<p>第一维度(x)：2，5，9，4，8，7</p>
<p>排序：2，4，5，7，8，9</p>
<p>中位数：6</p>
</li>
<li>
<p>第二维度(y)：3，4，6，7，1，2</p>
<p>排序：1，2，3，4，6，7</p>
<p>中位数：3.5</p>
</li>
</ul>
<p>由于x维度比较分散（方差较大），所以选择根据x维度进行划分，x维度的中位数为6，所以选择5和7 均可，这里选择7为例，所以将数据集以<code>(7, 2)</code>划分为左（<code>(2, 3)</code>，<code>(4, 7)</code>，<code>(5, 4)</code>）右（<code>(8, 1)</code>，<code>(9, 6)</code>）两块；</p>
<p>接着对左半部分进行按y维度划分，<code>(2, 3)</code>，<code>(4, 7)</code>，<code>(5, 4)</code>对应的y维度数据为3，4，7；中位数为4，对应的数据是<code>(5, 4)</code>，故将左半部分又划分为左（<code>(2, 3)</code>）右（<code>(4, 7)</code>）；</p>
<p>对右半部分进行按y维度划分，<code>(8, 1)</code>，<code>(9, 6)</code>对应的y维度数据为1，6；中位数3.5，距1和6相等，这里选择6即<code>(9, 6)</code>，此时<code>(8, 1)</code>被划分到左半部分。</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2021/03/30/VOiPL91d2MczIga.png" alt="image-20210330101133675" loading="lazy"></figure>
<h2 id="6-案例鸢尾花种类预测-数据集介绍">6. 案例：鸢尾花种类预测-数据集介绍</h2>
<h3 id="61-案例鸢尾花种类预测">6.1. 案例：鸢尾花种类预测</h3>
<p>Iris数据集是常用的分类实验数据集，也称鸢尾花数据集，是一类多重变量分类分析的数据集。关于数据集的具体介绍：</p>
<ul>
<li>特征值-4个：花瓣、花萼的长度、宽度</li>
<li>目标值-3个：setosa(山鸢尾)、vericolor(虹膜锦葵)、virginica(变色鸢尾)</li>
</ul>
<h3 id="62-scikit-learn中数据集介绍">6.2. scikit-learn中数据集介绍</h3>
<h4 id="621-scikit-learn数据集api介绍">6.2.1. scikit-learn数据集API介绍</h4>
<ul>
<li>sklearn.datasets
<ul>
<li>加载获取流行数据集</li>
<li>datasets.load_*()
<ul>
<li>获取小规模数据集，数据包含在datasets里</li>
</ul>
</li>
<li>datasets.fetch_*(data_home=None)
<ul>
<li>获取大规模数据集，需要从网络上下载，函数的第一个参数是data_home，表示数据集的下载目录，默认是<code>~/scikit_learn_data/</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="6211-sklearn小数据集">6.2.1.1. sklearn小数据集</h5>
<ul>
<li>
<p><code>sklearn.datasets.load_iris()</code></p>
<p>加载并返回鸢尾花数据集</p>
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">类别</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">特征</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">样本数量</td>
<td style="text-align:center">150</td>
</tr>
<tr>
<td style="text-align:center">每个类别数量</td>
<td style="text-align:center">50</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h5 id="6212-sklearn大数据集">6.2.1.2. sklearn大数据集</h5>
<ul>
<li><code>sklearn.datasets.fetch_20newsgroups(data_home=None, subset='train')</code>
<ul>
<li><code>subset</code>：'train'或者'test'，'all'，可选，选择要加载的数据集；</li>
<li>训练集的“训练”，测试集的“测试”，两者的“全部”</li>
</ul>
</li>
</ul>
<h4 id="622-sklearn数据集返回值介绍">6.2.2. sklearn数据集返回值介绍</h4>
<ul>
<li>
<p>load和fetch返回的数据类型是<code>datasets.base.Bunch</code>（字典格式）</p>
<ul>
<li>data：特征数据数组，是形状为<code>[n_samples * n_features]</code>的二维<code>numpy.ndarray</code>数组</li>
<li>target：标签数组，是<code>n_sample</code>的一维<code>numpy.ndarray</code>数组</li>
<li>DESCR：数据描述</li>
<li>feature_names：特征名，新闻数据，手写数字、回归数据在数据集中没有</li>
<li>target_name：标签名</li>
</ul>
<pre><code class="language-python">from sklearn.datasets import load_iris

# 获取鸢尾花数据集
iris = load_iris()
print(&quot;鸢尾花数据集的返回值：\n&quot;, iris)
# 返回值是一个继承自字典的bunch
print(&quot;鸢尾花的特征值：\n&quot;, iris[&quot;data&quot;])
print(&quot;鸢尾花的目标值：\n&quot;, iris.target)
print(&quot;鸢尾花的特征值名：\n&quot;, iris.feature_names)
print(&quot;鸢尾花的目标值名：\n&quot;, iris.target_names)
print(&quot;鸢尾花的描述：\n&quot;, iris.DESCR)
</code></pre>
</li>
</ul>
<h4 id="623-查看数据分布">6.2.3. 查看数据分布</h4>
<ul>
<li><code>seaborn.lmplot()</code>会在绘制二维散点图时，自动完成回归拟合
<ul>
<li>x, y分别代表横纵坐标的列名</li>
<li>data= 要关联的数据集</li>
<li>hue= 代表按照species即花的类别分类展示</li>
<li>fit_reg= 是否进行线性拟合</li>
</ul>
</li>
</ul>
<pre><code class="language-python"># 把数据转换成dataframe
iris_d = pd.DataFrame(data=iris.data, columns=[&quot;Sepal_Length&quot;, &quot;Sepal_Width&quot;, &quot;Petal_Length&quot;, &quot;Petal_Width&quot;])
iris_d[&quot;target&quot;] = iris.target
# print(iris_d)

def iris_plot(data, col1, col2):
    sns.lmplot(x=col1, y=col2, data=data, hue=&quot;target&quot;, fit_reg=False)
    plt.title(&quot;鸢尾花数据显示&quot;)
    plt.show()

iris_plot(iris_d, &quot;Sepal_Width&quot;, &quot;Petal_Length&quot;)
</code></pre>
<h4 id="624-数据集的划分">6.2.4. 数据集的划分</h4>
<ul>
<li>训练数据：用于训练，<strong>构建模型</strong></li>
<li>测试数据：在模型检验时使用，用于<strong>评估模型是否有效</strong></li>
</ul>
<p>划分比例一般为：</p>
<table>
<thead>
<tr>
<th>训练集</th>
<th>70%</th>
<th>80%</th>
<th>75%</th>
</tr>
</thead>
<tbody>
<tr>
<td>测试集</td>
<td>30%</td>
<td>20%</td>
<td>25%</td>
</tr>
</tbody>
</table>
<p><strong>数据集划分api</strong></p>
<ul>
<li>
<p><code>sklearn.model_selection.train_test_split(arrays, *options)</code></p>
<ul>
<li>参数：
<ul>
<li>x - 数据集的特征值</li>
<li>y - 数据集的标签值</li>
<li>test_size - 测试集的大小，一般为float</li>
<li>random_state - 随机数种子不同的种子会造成不同的随机采样结果，相同的种子采样结果相同。</li>
</ul>
</li>
<li>返回值：
<ul>
<li>x_train, x_test, y_train, y_test</li>
</ul>
</li>
</ul>
<pre><code class="language-python">x_train, x_test, y_train, y_test = train_test_split(iris.data, iris.target, test_size=0.2, random_state=22)
print(&quot;训练集的特征值是：\n&quot;, x_train)
print(&quot;训练集的目标值是：\n&quot;, y_train)
print(&quot;测试集的特征值是：\n&quot;, x_test)
print(&quot;测试集的目标值是：\n&quot;, y_test)

print(&quot;训练集的目标值的形状是：\n&quot;, y_train.shape)
print(&quot;测试集的目标值的形状是：\n&quot;, y_test.shape)
</code></pre>
</li>
</ul>
<h2 id="7-特征工程-特征预处理">7. 特征工程 - 特征预处理</h2>
<h3 id="71-特征预处理">7.1. 特征预处理</h3>
<h4 id="711-定义">7.1.1. 定义</h4>
<p>特征与处理是通过<strong>一些转换函数</strong>将特征数据<strong>转换成更加适合算法模型的特征数据</strong>过程。</p>
<ul>
<li>
<p><strong>为什么要进行归一化/标准化？</strong></p>
<p><strong>特征的单位或者大小相差较大，或者某特征值的方差相比其他的特征要大出几个数量级，容易影响（支配）目标结果，使得一些算法无法学习到其他的特征</strong></p>
</li>
</ul>
<h4 id="712-包含内容数值型数据的无量纲化">7.1.2. 包含内容（数值型数据的无量纲化）</h4>
<ul>
<li>归一化</li>
<li>标准化</li>
</ul>
<h4 id="713-特征预处理api">7.1.3. 特征预处理API</h4>
<pre><code class="language-python">sklearn.preprocessing
</code></pre>
<h3 id="72-归一化">7.2. 归一化</h3>
<h4 id="721-定义">7.2.1. 定义</h4>
<p>通过对原始数据进行变换把数据映射到(默认为[0,1])之间</p>
<h4 id="722-公式">7.2.2. 公式</h4>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mo mathvariant="normal">′</mo></msup><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>max</mi><mo>⁡</mo><mo>−</mo><mi>min</mi><mo>⁡</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">{X}&#x27;=\frac{x-\min}{\max-\min}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.801892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.1141900000000002em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3448600000000002em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">min</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo>=</mo><msup><mi>X</mi><mo mathvariant="normal">′</mo></msup><mo>∗</mo><mo>(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">x</mi></mrow><mo>−</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">i</mi></mrow><mo>)</mo><mo>+</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">i</mi></mrow></mrow><annotation encoding="application/x-tex">{X}&#x27;&#x27;={X}&#x27;*(\mathrm{mx}-\mathrm{mi})+\mathrm{mi}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.801892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.801892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">i</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">i</span></span></span></span></span></span></p>
<blockquote>
<p>作用于每一列，max为一列的最大值，min为一列的最小值，那么<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">{X}&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>为最终结果，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">x</mi></mrow><annotation encoding="application/x-tex">\mathrm{mx}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">x</span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">i</mi></mrow><annotation encoding="application/x-tex">\mathrm{mi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">i</span></span></span></span></span>分别为指定区间，值默认分别为1和0</p>
</blockquote>
<h4 id="723-api">7.2.3. API</h4>
<ul>
<li><code>sklearn.preprocessing.MinMaxScaler(feature_range=(0,1)...)</code>
<ul>
<li><code>MinMaxScaler.fit_transform(X)</code>
<ul>
<li><code>X</code>：numpy.array格式的数据[n_samples, n_features]</li>
<li>返回值：转换后的形状相同的array</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="724-数据计算">7.2.4. 数据计算</h4>
<p>要进行计算的数据如下，保存在dating.txt中：</p>
<pre><code class="language-python">milage,Liters,Consumtime,target
40920,8.326976,0.953952,3
14488,7.153469,1.673904,2
26052,1.441871,0.805124,1
75136,13.147394,0.428964,1
38344,1.669788,0.134296,1
</code></pre>
<p>实例化MinMaxScaler并通过fit_transform转换：</p>
<pre><code class="language-python">import pandas as pd
from sklearn.preprocessing import MinMaxScaler


def minmax_demo():
    &quot;&quot;&quot;
    归一化演示
    :return: None
    &quot;&quot;&quot;
    data = pd.read_csv(&quot;./dating.txt&quot;)
    print(data)
    # 1.实例化一个转换器类
    transfer = MinMaxScaler(feature_range=(2, 3))
    # 2.调用fit_transform
    transfer_data = transfer.fit_transform(data[[&quot;milage&quot;, &quot;Liters&quot;, &quot;Consumtime&quot;]])
    print(&quot;最小值最大值归一化处理的结果：\n&quot;, transfer_data)
</code></pre>
<p>输出结果：</p>
<pre><code class="language-python">   milage     Liters  Consumtime  target
0   40920   8.326976    0.953952       3
1   14488   7.153469    1.673904       2
2   26052   1.441871    0.805124       1
3   75136  13.147394    0.428964       1
4   38344   1.669788    0.134296       1
最小值最大值归一化处理的结果：
 [[2.43582641 2.58819286 2.53237967]
 [2.         2.48794044 3.        ]
 [2.19067405 2.         2.43571351]
 [3.         3.         2.19139157]
 [2.3933518  2.01947089 2.        ]]
</code></pre>
<h4 id="725-归一化总结">7.2.5. 归一化总结</h4>
<p>由于最大值最小值非常容易受异常点影响，所以这种归一化方法的<strong>鲁棒性较差</strong>，<strong>只适合传统精确小数据场景。</strong></p>
<h3 id="73-标准化">7.3. 标准化</h3>
<h4 id="731-定义">7.3.1. 定义</h4>
<p>通过对原始数据进行变换把数据变换到均值为0，标准差为1的范围内</p>
<h4 id="732-公式">7.3.2. 公式</h4>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mo mathvariant="normal">′</mo></msup><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow></mrow><mi>σ</mi></mfrac></mrow><annotation encoding="application/x-tex">{X}&#x27;=\frac{x-\mathrm{mean}}{\sigma}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.801892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.9463300000000001em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603300000000002em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">e</span><span class="mord mathrm">a</span><span class="mord mathrm">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<blockquote>
<p>作用于每一列，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><annotation encoding="application/x-tex">\mathrm{mean}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">e</span><span class="mord mathrm">a</span><span class="mord mathrm">n</span></span></span></span></span>为平均值，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span>为标准差</p>
</blockquote>
<h4 id="733-api">7.3.3. API</h4>
<ul>
<li><code>sklearn.preprocessing.StandardScaler()</code>
<ul>
<li>处理之后每列的所有数据都聚集在均值0附近，标准差为1</li>
<li><code>StandardScaler.fit_transform(X)</code>
<ul>
<li><code>X</code>：numpy.array格式的数据[n_samples, n_features]</li>
</ul>
</li>
<li>返回值：转换后的形状相同的array</li>
</ul>
</li>
</ul>
<h4 id="734-数据计算">7.3.4. 数据计算</h4>
<pre><code class="language-python">def standard_demo():
    &quot;&quot;&quot;
    归一化演示
    :return: None
    &quot;&quot;&quot;
    data = pd.read_csv(&quot;./dating.txt&quot;)
    print(data)
    # 1.实例化一个转换器类
    transfer = StandardScaler()  # 此时不需要传feature_range
    # 2.调用fit_transform
    transfer_data = transfer.fit_transform(data[[&quot;milage&quot;, &quot;Liters&quot;, &quot;Consumtime&quot;]])
    print(&quot;标准化处理的结果：\n&quot;, transfer_data)
    print(&quot;每一列特征的平均值：\n&quot;, transfer.mean_)
    print(&quot;每一列特征的方差：\n&quot;, transfer.var_)
</code></pre>
<h4 id="735-标准化总结">7.3.5. 标准化总结</h4>
<p>在已有样本足够多的情况下比较稳定，适合现代嘈杂大数据场景。</p>
<h2 id="8-案例鸢尾花种类预测-流程实现">8. 案例：鸢尾花种类预测 - 流程实现</h2>
<h3 id="81-再识k-近邻算法api">8.1. 再识K-近邻算法API</h3>
<ul>
<li><code>sklearn.neighbors.KNeighborsClassifier(n_neighbors=5, algorithm='auto')</code>
<ul>
<li><code>n_neighbors</code>：
<ul>
<li>int，可选（默认=5），k_neighbors查询默认使用的邻居数</li>
</ul>
</li>
<li><code>algorithm</code>：<code>{'auto', 'ball_tree', 'kd_tree', 'brute'}</code>
<ul>
<li>快速K-近邻搜索算法，默认参数为auto，可以理解为算法自己决定合适的搜索算法。除此之外，用户也可以自己指定搜索算法进行搜索。</li>
<li><code>'brute'</code>：暴力搜索，也就是线性扫描，当训练集很大时，计算非常耗时。</li>
<li><code>'kd_tree'</code>：构造kd树存储数据以外对其进行快速检索的树形数据结构，kd树也就是数据结构中的二叉树。以中值切分构造的树，每个节点是一个超矩形，在维数小于20时效率高。</li>
<li><code>'ball_tree'</code>：是为了克服kd树高维失效而发明的，其构造过程是以质心C和半径r分割样本空间，每个节点是一个超球体。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="82-案例鸢尾花种类预测">8.2. 案例：鸢尾花种类预测</h3>
<h4 id="821-数据集介绍">8.2.1. 数据集介绍</h4>
<ul>
<li>实例数量：150（三个类各有50个）</li>
<li>属性数量：4（数值型，数值型，帮助预测的属性和类）</li>
<li>属性信息：
<ul>
<li>sepal length — 萼片长度(cm)</li>
<li>sepal width — 萼片宽度(cm)</li>
<li>petal length — 花瓣长度(cm)</li>
<li>petal width — 花瓣宽度(cm)</li>
</ul>
</li>
<li>类信息：
<ul>
<li>iris-Setosa — 山鸢尾</li>
<li>iris-Versicolour — 变色鸢尾</li>
<li>iris-Virginica — 维吉尼亚鸢尾</li>
</ul>
</li>
</ul>
<h4 id="822-步骤分析">8.2.2. 步骤分析</h4>
<ul>
<li>获取数据集</li>
<li>数据基本处理</li>
<li>特征工程</li>
<li>机器学习（模型训练）</li>
<li>模型评估</li>
</ul>
<h4 id="823-代码过程">8.2.3. 代码过程</h4>
<pre><code class="language-python">from sklearn.datasets import load_iris
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from sklearn.neighbors import KNeighborsClassifier

# 1.获取数据集
iris = load_iris()

# 2.数据基本处理
# 划分出训练集特征值、测试集特征值、训练集目标值、测试集目标值
x_train, x_test, y_train, y_test = train_test_split(iris.data, iris.target, test_size=0.2, random_state=22)

# 3.特征工程：标准化
transfer = StandardScaler()
# 训练集特征值标准化处理
x_train = transfer.fit_transform(x_train)
# 训练集目标值标准化处理
x_test = transfer.transform(x_test)

# 4.机器学习（模型训练）
# 实例化K-近邻算法分类器
estimator = KNeighborsClassifier(n_neighbors=5)
# 将训练集特征值和目标值用K-近邻算法进行训练
estimator.fit(x_train, y_train)

# 5.模型评估
# 将测试集特征值交给训练好的估计器去预测出目标值
y_predict = estimator.predict(x_test)

# 方法1：比较真实值与预测值
print(&quot;预测结果为：\n&quot;, y_predict)
# 将预测出的目标值与训练集的真实目标值进行比对
print(&quot;比对真实值和预测值：\n&quot;, y_predict == y_test)

# 方法2：直接计算准确率
# 将测试集的特征值和目标值交给估计器去计算准确率
score = estimator.score(x_test, y_test)
print(&quot;准确率为：\n&quot;, score)
</code></pre>
<h2 id="9-knn算法总结">9. KNN算法总结</h2>
<h3 id="91-k-近邻算法优缺点汇总">9.1. K-近邻算法优缺点汇总</h3>
<ul>
<li>
<h4 id="优点">优点</h4>
<ul>
<li><strong>简单有效</strong></li>
<li><strong>重新训练的代价低</strong></li>
<li><strong>适合类域交叉样本</strong>
<ul>
<li><strong>KNN方法主要靠周围有限的邻近的样本</strong>，而不是靠判别类域的方法来确定所属类别的，因此对于类域交叉或重叠较多的待分样本来说，KNN方法较其他方法更为适合。</li>
</ul>
</li>
<li><strong>适合大样本自动分类</strong>
<ul>
<li>该算法比较适用于<strong>样本容量比较大的类域的自动分类</strong>，而那些<strong>样本容量较小的类域采用这种算法比较容易产生误分。</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<h4 id="缺点">缺点</h4>
<ul>
<li><strong>惰性学习</strong>
<ul>
<li>KNN算法是懒散学习方法「Lazy Learning，基本上不学习」，一些积极的学习算法要快很多</li>
</ul>
</li>
<li><strong>类别评分而不是规格化</strong>
<ul>
<li>不像一些通过概率评分的分类</li>
</ul>
</li>
<li><strong>输出可解释性不强</strong>
<ul>
<li>例如决策树的输出可解释性就较强</li>
</ul>
</li>
<li><strong>对不均衡的样本不擅长</strong>
<ul>
<li>当样本不平衡时，如一个类的样本容量很大，而其他类样本容量很小时，有可能导致当输入一个新样本时，该样本的K个邻居中大容量类的样本占多数。该算法只计算“最近的”邻居样本，某一类的样本数量很大，那么或者这类样本并不接近目标样本，或者这类样本很靠近目标样本。无论怎样，数量并不能影响运行结果。可以采用权值的方法（和该样本距离小的邻居权值大）来改进。</li>
</ul>
</li>
<li><strong>计算量较大</strong>
<ul>
<li>目前常用的解决方法是事先对已知的样本进行剪辑，事先去除分类作用不大的样本。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="10-交叉验证网格搜索">10. 交叉验证，网格搜索</h2>
<h3 id="101-交叉验证cross-validation">10.1. 交叉验证(cross validation)</h3>
<p>交叉验证：将拿到的训练数据分为训练集和验证集。数据分成x份就称为x折交叉验证。</p>
<p><strong>目的：为了让被评估的数据更加准确可信。</strong></p>
<h3 id="102-网格搜索grid-search">10.2. 网格搜索(Grid Search)</h3>
<p>通常情况下，有很多参数是需要指定的（如k-近邻算法中的k值），这种参数被称为超参数。但是手动过程繁杂，所以需要对模型预设几中超参数组合。<strong>每组超参数都采用交叉验证来进行评估，最后选中最优参数组合建立模型。</strong></p>
<h3 id="103-交叉验证网格搜索模型选择与调优api">10.3. 交叉验证，网格搜索（模型选择与调优）API</h3>
<ul>
<li><code>sklearn.model_selection.GridSearchCV(estimator, param_grid=None, cv=None)</code>
<ul>
<li>对估计器的指定参数进行详尽搜索</li>
<li><code>estimator</code>：估计器对象</li>
<li><code>param_grid</code>：dict，估计器参数，例如：<code>{&quot;n_neighbors&quot;: [1, 3, 5]}</code></li>
<li><code>cv</code>：指定几折交叉验证</li>
</ul>
</li>
<li><code>estimator</code>：
<ul>
<li><code>fit</code>：输入训练数据</li>
<li><code>score</code>：准确率</li>
<li>结果分析：
<ul>
<li><code>best_score_</code>：交叉验证中得到的最好结果</li>
<li><code>best_estimator_</code>：交叉验证中得到的最好的模型</li>
<li><code>cv_results_</code>：每个参数得到的模型结果</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="11-案例2预测facebook签到位置">11. 案例2：预测Facebook签到位置</h2>
<h3 id="111-项目描述">11.1. 项目描述</h3>
<p>项目目的是预测一个人将要签到的地方。其中给定的虚拟世界包括<strong>10km*10km共100 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><msup><mi>m</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">km^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> 的约10w个地方</strong>。对于给定的坐标集，任务是<strong>根据用户的位置，准确性和时间戳等预测用户下一次的签到位置</strong>。数据被制作成类似于来自移动设备的位置数据。</p>
<h3 id="112-数据集介绍">11.2. 数据集介绍</h3>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandas-07-交叉表 透视表]]></title>
        <id>https://fade-color.github.io/post/pandas-07-jiao-cha-biao-tou-shi-biao/</id>
        <link href="https://fade-color.github.io/post/pandas-07-jiao-cha-biao-tou-shi-biao/">
        </link>
        <updated>2021-04-07T13:51:20.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-概念">1. 概念</h3>
<ul>
<li>交叉表：交叉表用于计算一列数据对于另外一列数据的分组个数(用于统计分组频率的特殊透视表)
<ul>
<li>pd.crosstab(value1, value2)</li>
</ul>
</li>
<li>透视表：透视表是将原有的DataFrame的列分别作为行索引和列索引，然后对指定的列应用聚集函数
<ul>
<li>data.pivot_table(）</li>
<li>DataFrame.pivot_table([], index=[])</li>
</ul>
</li>
</ul>
<h3 id="2-交叉表案例分析">2. 交叉表案例分析</h3>
<h4 id="21-案例1股票星期数据与涨跌幅的关系">2.1 案例1：股票星期数据与涨跌幅的关系</h4>
<ol>
<li>
<p><strong>数据准备</strong></p>
<pre><code class="language-python">stock_day = pd.read_csv(&quot;./data/stock_day.csv&quot;)
stock_day.drop([&quot;ma5&quot;, &quot;ma10&quot;, &quot;ma20&quot;, &quot;v_ma5&quot;,
               &quot;v_ma10&quot;, &quot;v_ma20&quot;], axis=1, inplace=True)
stock_day
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2021/04/20/7qZkB6sz8yfIOJX.png" alt="image-20210420102729603" loading="lazy"></figure>
<p>提取出对应的星期数据和涨跌幅数据：</p>
<pre><code class="language-python"># 寻找星期几跟股票张得的关系
# 1、先把对应的日期找到星期几
stock_day[&quot;week&quot;] = pd.to_datetime(stock_day.index).weekday

# 2、假如把p_change按照大小去分个类0为界限
stock_day[&quot;p_n&quot;] = np.where(stock_day[&quot;p_change&quot;] &gt; 0, 1, 0)

stock_day.head()
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2021/04/20/QgWpHzC5jEfxJrX.png" alt="image-20210420102958478" loading="lazy"></figure>
<p>通过交叉表找寻两列数据的关系：</p>
<pre><code class="language-python">stock_ct = pd.crosstab(index=stock_day[&quot;week&quot;], columns=stock_day[&quot;p_n&quot;])
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2021/04/20/29cQ5mV1KTeBSOL.png" alt="image-20210420103124604" loading="lazy"></figure>
</li>
<li>
<p><strong>求出涨跌幅的比例</strong></p>
<p>对于每个星期一等的总天数求和，运用除法运算求出比例</p>
<pre><code class="language-python">stock_ct_p = stock_ct.div(stock_ct.sum(axis=1), axis=0)
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://i.loli.net/2021/04/20/gdqW6eAjrmnEaZl.png" alt="image-20210420103458339" loading="lazy"></figure>
</li>
<li>
<p><strong>画图查看效果</strong></p>
<pre><code class="language-python">stock_ct_p.plot.bar(stacked=True)
</code></pre>
<figure data-type="image" tabindex="5"><img src="https://i.loli.net/2021/04/20/qGjeoEBVKfXhn4Q.png" alt="image-20210420103638189" loading="lazy"></figure>
</li>
</ol>
<h3 id="3-透视表案例分析">3. 透视表案例分析</h3>
<h4 id="31-准备数据">3.1 准备数据</h4>
<pre><code class="language-python">data = pd.read_csv(&quot;./data/tips.csv&quot;)
data.head()
</code></pre>
<figure data-type="image" tabindex="6"><img src="https://i.loli.net/2021/04/20/rp1owQBIzC6SZTb.png" alt="image-20210420102241050" loading="lazy"></figure>
<h4 id="32-再次分析交叉表">3.2 再次分析交叉表</h4>
<pre><code class="language-python"># 1. 首先根据 time 列，将所有数据行分成 N 组（组数取决于 day 元素的种类个数）
# 2. 然后，分别计算每一组中，抽烟=Yes的个数、抽烟=No的个数
pd.crosstab(index=data[&quot;time&quot;], columns=data[&quot;smoker&quot;], margins=True)

smoker	No Yes	All
time			
Dinner	106	70	176
 Lunch	 45	23	 68
   All	151	93	244

# 统计男性、女性抽烟、不抽烟的人数
pd.crosstab(index=data[&quot;sex&quot;], columns=data[&quot;smoker&quot;], margins=True)

smoker	 No	Yes	All
sex			
Female	 54	 33	 87
  Male	 97	 60	157
   All	151	 93	244
</code></pre>
<h4 id="33-透视表">3.3 透视表</h4>
<ul>
<li><code>DataFrame.pivot_table(values, index, columns, aggfun, margins=False)</code>：
<ul>
<li>values：要进行统计的列</li>
<li>index：行索引</li>
<li>columns：列索引</li>
<li>aggfun：聚合函数</li>
<li>margins=False：显示汇总</li>
</ul>
</li>
</ul>
<ol>
<li>
<p>统计 不同性别中抽不抽烟 的 平均消费</p>
<pre><code class="language-python">data.pivot_table(&quot;total_bill&quot;, index=&quot;sex&quot;, columns=[&quot;smoker&quot;])

smoker	       No	      Yes
sex		
Female	18.105185	17.977879
  Male	19.791237	22.284500
</code></pre>
</li>
<li>
<p>分别展示出 周四到周日 的 晚饭小费 和 午饭小费</p>
<pre><code class="language-python">data.pivot_table(&quot;tip&quot;, index=[&quot;day&quot;], columns=[&quot;time&quot;])

time	  Dinner	   Lunch
 day		
 Fri	2.940000	2.382857
 Sat	2.993103	     NaN
 Sun	3.255132	     NaN
Thur	3.000000	2.767705
</code></pre>
</li>
<li>
<p>查看 周五 晚餐 不抽烟 的 小费</p>
<pre><code class="language-python">data.pivot_table(&quot;tip&quot;, index=[&quot;day&quot;, &quot;time&quot;], columns=[&quot;smoker&quot;])

	    smoker	      No	     Yes
 day	  time		
 Fri	Dinner	2.750000	3.003333
       Lunch	3.000000	2.280000
 Sat	Dinner	3.102889	2.875476
 Sun	Dinner	3.167895	3.516842
Thur	Dinner	3.000000	     NaN
       Lunch	2.666364	3.030000
</code></pre>
</li>
<li>
<p>查看 周五 不抽烟 晚餐 最多给了多少 小费</p>
<pre><code class="language-python">data.pivot_table(&quot;tip&quot;, index=[&quot;day&quot;], columns=[&quot;smoker&quot;, &quot;time&quot;], aggfunc=&quot;max&quot;)

smoker	           No	          Yes
  time	Dinner	Lunch	Dinner	Lunch
   day				
   Fri	   3.5	  3.0	  4.73	 3.48
   Sat	   9.0	  NaN	 10.00	  NaN
   Sun	   6.0	  NaN	  6.50	  NaN
  Thur	   3.0	  6.7	   NaN	 5.00
</code></pre>
</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandas-06-数据合并]]></title>
        <id>https://fade-color.github.io/post/pandas-06-shu-ju-he-bing/</id>
        <link href="https://fade-color.github.io/post/pandas-06-shu-ju-he-bing/">
        </link>
        <updated>2021-04-07T07:06:02.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-pdconcat实现数据合并">1. pd.concat实现数据合并</h3>
<ul>
<li>
<p>pd.concat([data1, data2], axis=1)</p>
<ul>
<li>按照行或列进行合并，axis=0为列索引，axis=1为行索引</li>
</ul>
<p>比如将刚才处理好的one-hot编码与原数据合并</p>
<pre><code class="language-python"># 按照行索引进行合并
pd.concat([data, dummies], axis=1)
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313200004169.png" alt="image-20210313200004169" loading="lazy"></figure>
</li>
</ul>
<h3 id="2-pdmerge">2. pd.merge</h3>
<ul>
<li>
<p>pd.merge(left, right, how='inner', on=None)</p>
<ul>
<li>可以指定按照两组共同的数据的共同键值对合并或者左右各自</li>
<li><code>left</code>：DataFrame</li>
<li><code>right</code>：另一个DataFrame</li>
<li><code>on</code>：指定的共同键</li>
<li><code>how</code>：按照什么方式进行连接</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">Merge method</th>
<th style="text-align:center">SQL Jion Name</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>left</code></td>
<td style="text-align:center"><code>LEFT OUTER JION</code></td>
<td style="text-align:center">左连接</td>
</tr>
<tr>
<td style="text-align:center"><code>right</code></td>
<td style="text-align:center"><code>RIGHT OUTER JION</code></td>
<td style="text-align:center">右连接</td>
</tr>
<tr>
<td style="text-align:center"><code>inner</code></td>
<td style="text-align:center"><code>INNER JION</code></td>
<td style="text-align:center">内连接</td>
</tr>
<tr>
<td style="text-align:center"><code>outer</code></td>
<td style="text-align:center"><code>FULL OUTER JION</code></td>
<td style="text-align:center">外连接</td>
</tr>
</tbody>
</table>
<pre><code class="language-python">left = pd.DataFrame({
    &quot;A&quot;: [&quot;A0&quot;, &quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;],
    &quot;B&quot;: [&quot;B0&quot;, &quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;],
    &quot;key1&quot;: [&quot;K0&quot;, &quot;K0&quot;, &quot;K1&quot;, &quot;K2&quot;],
    &quot;key2&quot;: [&quot;K0&quot;, &quot;K1&quot;, &quot;K0&quot;, &quot;K1&quot;]
})
right = pd.DataFrame({
    &quot;C&quot;: [&quot;C0&quot;, &quot;C1&quot;, &quot;C2&quot;, &quot;C3&quot;],
    &quot;D&quot;: [&quot;D0&quot;, &quot;D1&quot;, &quot;D2&quot;, &quot;D3&quot;],
    &quot;key1&quot;: [&quot;K0&quot;, &quot;K1&quot;, &quot;K1&quot;, &quot;K2&quot;],
    &quot;key2&quot;: [&quot;K0&quot;, &quot;K0&quot;, &quot;K0&quot;, &quot;K0&quot;]
})
</code></pre>
</li>
<li>
<p>默认为内连接：</p>
<pre><code class="language-python"># 默认内连接
result = pd.merge(left, right, on=[&quot;key1&quot;, &quot;key2&quot;])
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313203441190.png" alt="image-20210313203441190" loading="lazy"></figure>
</li>
<li>
<p>左连接</p>
<pre><code class="language-python"># 左连接
result = pd.merge(left, right, how=&quot;left&quot;, on=[&quot;key1&quot;, &quot;key2&quot;])
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313203723482.png" alt="image-20210313203723482" loading="lazy"></figure>
</li>
<li>
<p>右连接</p>
<pre><code class="language-python"># 右连接
result = pd.merge(left, right, how=&quot;right&quot;, on=[&quot;key1&quot;, &quot;key2&quot;])
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313203845121.png" alt="image-20210313203845121" loading="lazy"></figure>
</li>
<li>
<p>外连接</p>
<pre><code class="language-python"># 外连接
result = pd.merge(left, right, how=&quot;outer&quot;, on=[&quot;key1&quot;, &quot;key2&quot;])
</code></pre>
<figure data-type="image" tabindex="5"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313204004267.png" alt="image-20210313204004267" loading="lazy"></figure>
</li>
</ul>
<h3 id="3-总结">3. 总结</h3>
<ul>
<li>pd.concat([&quot;数据1&quot;, &quot;数据2&quot;], axis=)</li>
<li>pd.merge(left, right, how=, on=)
<ul>
<li>how -- 以何种方式连接</li>
<li>on -- 连接的键的依据是哪些</li>
</ul>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandas-05-数据离散化]]></title>
        <id>https://fade-color.github.io/post/pandas-05-shu-ju-chi-san-hua/</id>
        <link href="https://fade-color.github.io/post/pandas-05-shu-ju-chi-san-hua/">
        </link>
        <updated>2021-04-07T01:04:56.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-为什么要离散化">1. 为什么要离散化</h3>
<p>连续属性离散化的目的是为了简化数据结构，<strong>数据结构离散化技术可以用来减少给定连续属性值的个数</strong>。离散化方法经常作为数据挖掘的工具。</p>
<h3 id="2-什么是数据的离散化">2. 什么是数据的离散化</h3>
<p><strong>连续属性的离散化就是在连续属性的值域上，将值域划分为若干个离散的区间，最后用不同的符号或整数、值代表落在每个子区间中的属性值。</strong></p>
<h3 id="3-股票的涨跌幅离散化">3. 股票的涨跌幅离散化</h3>
<p>对股票每日的&quot;p_change&quot;进行离散化</p>
<h4 id="31-读取股票数据">3.1. 读取股票数据</h4>
<pre><code class="language-python">data = pd.read_csv(&quot;./data/stock_day.csv&quot;)
p_change = data[&quot;p_change&quot;]

2018-02-27    2.68
2018-02-26    3.02
2018-02-23    2.42
2018-02-22    1.64
2018-02-14    2.05
              ... 
2015-03-06    8.51
2015-03-05    2.02
2015-03-04    1.57
2015-03-03    1.44
2015-03-02    2.62
Name: p_change, Length: 643, dtype: float64
</code></pre>
<h4 id="32-将股票涨跌幅数据进行分组">3.2. 将股票涨跌幅数据进行分组</h4>
<ul>
<li>pd.qcut(data, q):
<ul>
<li>对数据进行分组，q为组数，一般会与value_counts搭配使用，统计每组的个数</li>
</ul>
</li>
<li>series.values_counts()：统计每组个数</li>
</ul>
<pre><code class="language-python"># 自行分组
qcut = pd.qcut(p_change, 10)
# 计算分到每组数据个数
qcut.value_counts()

(5.27, 10.03]                    65
(0.26, 0.94]                     65
(-0.462, 0.26]                   65
(-10.030999999999999, -4.836]    65
(2.938, 5.27]                    64
(1.738, 2.938]                   64
(-1.352, -0.462]                 64
(-2.444, -1.352]                 64
(-4.836, -2.444]                 64
(0.94, 1.738]                    63
Name: p_change, dtype: int64
</code></pre>
<p>自定义区间分组：</p>
<ul>
<li>pd.cut(data, bins)：
<ul>
<li>data：要分组的数据</li>
<li>bins：列表，自定义的区间列表：[-2, -1, 0, 1, 2]</li>
</ul>
</li>
</ul>
<pre><code class="language-python"># 自己指定分区区间
bins = [-100, -7, -5, -3, 0, 3, 5, 7, 100]
p_cut = pd.cut(p_change, bins)
</code></pre>
<h4 id="33-股票涨跌幅分组数据变成one-hot编码">3.3. 股票涨跌幅分组数据变成one-hot编码</h4>
<ul>
<li>
<p><strong>什么是one-hot编码</strong></p>
<p>把每个类别生成一个布尔列，这些列中只有一列可以为这个样本取值为1。其又被称为热编码。</p>
<p>把下图中左边的表格转化为右边形式表示：</p>
</li>
</ul>
<figure data-type="image" tabindex="1"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313193921906.png" alt="image-20210313193921906" loading="lazy"></figure>
<ul>
<li>
<p>pandas.get_dummies(data, prefix=None)</p>
<ul>
<li>data：array-like，Series，or DataFrame</li>
<li>prefix：分组名字前缀</li>
</ul>
<pre><code class="language-python"># 得出one-hot编码矩阵
dummies = pd.get_dummies(p_cut, prefix=&quot;rise&quot;)
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313194636486.png" alt="image-20210313194636486" loading="lazy"></figure>
</li>
</ul>
<h3 id="4-总结">4. 总结</h3>
<ul>
<li>数据离散化
<ul>
<li>可以用来减少给定连续属性值的个数</li>
<li>在连续属性的值域上，将值域划分为若干个离散的区间，最后用不同的符号或整数值代表落在每个子区间中的属性值。</li>
</ul>
</li>
<li>qcut、cut实现数据分组
<ul>
<li>qcut：大致分为数量相同的几组</li>
<li>cut：自定义分组区间</li>
</ul>
</li>
<li>get_dummies实现哑变量矩阵</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandas-04-缺失值处理]]></title>
        <id>https://fade-color.github.io/post/pandas-04-que-shi-zhi-chu-li/</id>
        <link href="https://fade-color.github.io/post/pandas-04-que-shi-zhi-chu-li/">
        </link>
        <updated>2021-04-06T15:03:17.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-如何处理nan">1. 如何处理NaN</h3>
<ul>
<li>
<p>获取缺失值的标记方式（NaN或其他标记方式）</p>
<ul>
<li>
<p>如果缺失值的标记方式是NaN</p>
<ul>
<li>
<p>判断数据是否包含NaN：</p>
<ul>
<li>pd.isnull(df)</li>
<li>pd.notnull(df)</li>
</ul>
</li>
<li>
<p>存在缺失值NaN：</p>
<ol>
<li>
<p>删除存在的缺失值：</p>
<p>dropna(axis='rows')</p>
<blockquote>
<p>注：不会修改原数据，而是返回删除后的数据</p>
</blockquote>
</li>
<li>
<p>替换缺失值：</p>
<p>fillna(value, inplace=True)</p>
<ul>
<li>value：要替换为的值</li>
<li>inplace：True：会直接修改原数据，False：返回修改后的数据</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li>
<p>如果缺失值没有使用NaN标记，比如使用 “ ? ”</p>
<ul>
<li>先替换&quot;?&quot;为np.nan，然后继续处理</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-案例电影数据的缺失值处理">2. 案例：电影数据的缺失值处理</h3>
<ul>
<li>
<p>读取电影文件获取数据</p>
<pre><code class="language-python">movie = pd.read_csv(&quot;./data/IMDB-Movie-Data.csv&quot;)
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313170709423.png" alt="image-20210313170709423" loading="lazy"></figure>
</li>
</ul>
<h4 id="21-判断缺失值是否存在">2.1. 判断缺失值是否存在</h4>
<pre><code class="language-python">pd.notnull(movie)
# df直接调用notnull也可
movie.notnull()
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313170954865.png" alt="image-20210313170954865" loading="lazy"></figure>
<p>可以用np.all或np.any来综合判断数据中是否有缺失值</p>
<pre><code class="language-python">np.all(pd.notnull(movie))  # 如果全为True，则返回True，说明没有缺失值
# 或
np.all(movie.notnull())  # 如果全为True，则返回True，说明没有缺失值

np.any(pd.isnull(movie))  # 如果存在True，则返回True，说明有缺失值
# 或
np.any(movie.isnull())  # 如果存在True，则返回True，说明有缺失值
</code></pre>
<h4 id="22-存在缺失值nan并且是npnan">2.2. 存在缺失值NaN，并且是np.nan</h4>
<ol>
<li>
<p>删除</p>
<p>pandas删除缺失值，使用dropna的前提是缺失值的类型必须是np.nan</p>
<pre><code class="language-python"># 不改变原数据，所以用新变量接收
droped_movie = movie.dropna()
</code></pre>
</li>
<li>
<p>替换</p>
<p>替换所有缺失值</p>
<pre><code class="language-python">for col in movie.columns:
    if np.any(movie[col].isnull()):  # 如果存在缺失值
        movie[col].fillna(movie[col].mean(), inplace=True)  # 用该列的平均值填充
</code></pre>
</li>
</ol>
<h4 id="23-缺失值不是nan有默认标记的">2.3. 缺失值不是NaN，有默认标记的</h4>
<p>以缺失值为 &quot;?&quot; 为例：</p>
<pre><code class="language-python">wis = pd.read_csv(&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data&quot;)
</code></pre>
<p>如果报URLError提示SSL证书错误：</p>
<pre><code class="language-python"># 全局取消证书验证
import ssl
ssl._create_default_https_context = ssl._create_unverified_context
</code></pre>
<p><strong>处理思路：</strong></p>
<ol>
<li>
<p>先替换&quot;?&quot;为np.nan</p>
<p>df.replace(to_replace=, value=)</p>
<ul>
<li>to_replace：替换前的值</li>
<li>value：替换后的值</li>
</ul>
<pre><code class="language-python"># 把其他标记的缺失值，替换成np.nan
wis.replace(to_replace=&quot;?&quot;, value=np.nan)
</code></pre>
</li>
<li>
<p>再进行缺失值的处理</p>
<pre><code class="language-python"># 删除
wis = wis.dropna()
</code></pre>
</li>
</ol>
<h3 id="3-总结">3. 总结</h3>
<ul>
<li>
<p>isnull、notnull判断是否存在缺失值【知道】</p>
<ul>
<li>
<p><code>np.all(movie.notnull()) # 如果全为True，则返回True，说明没有缺失值</code></p>
<p><code>np.all(movie.notnull()) # 如果全为True，则返回True，说明没有缺失值</code></p>
</li>
<li>
<p><code>np.any(movie.isnull()) # 如果存在True，则返回True，说明有缺失值</code></p>
<p><code>np.any(movie.isnull()) # 如果存在True，则返回True，说明有缺失值</code></p>
</li>
</ul>
</li>
<li>
<p>dropna删除np.nan标记的缺失值【知道】</p>
<ul>
<li><code>movie.dropna()</code></li>
</ul>
</li>
<li>
<p>fillna填充缺失值【知道】</p>
<ul>
<li><code>movie[col].fillna(movie[col].mean(), inplace=True) # 用该列的平均值填充</code></li>
</ul>
</li>
<li>
<p>replace替换某些具体值【知道】</p>
<ul>
<li><code>wis.replace(to_replace=&quot;?&quot;, value=np.nan)</code></li>
</ul>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandas-03-文件读取与存储]]></title>
        <id>https://fade-color.github.io/post/pandas-03-wen-jian-du-qu-yu-cun-chu/</id>
        <link href="https://fade-color.github.io/post/pandas-03-wen-jian-du-qu-yu-cun-chu/">
        </link>
        <updated>2021-04-06T13:01:57.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-csv">1. CSV</h3>
<h4 id="11-read_csv">1.1. read_csv</h4>
<ul>
<li>
<p>pandas.read_csv(filepath_or_buffer, sep=',')</p>
<ul>
<li>filepath_or_buffer：文件路径</li>
<li>usecols：列表，指定读取的列名</li>
</ul>
<pre><code class="language-python"># 读取文件，并指定只获取open和close这两列
data = pd.read_csv(&quot;./data/stock_day.csv&quot;, usecols=['open', 'close'])
</code></pre>
</li>
</ul>
<h4 id="12-to_csv">1.2. to_csv</h4>
<ul>
<li>
<p>DataFrame.to_csv(path_or_buf=None, sep=',', columns=None, header=True, index=True, mode='w', encoding=None)</p>
<ul>
<li>path_or_buf：文件路径</li>
<li>sep：分隔符，默认用','分开</li>
<li>columns：选择需要的列索引</li>
<li>header：bool或字符串列表，是否保存列名，默认为 True ，保存</li>
<li>index：是否保存索引，默认为 True ，保存</li>
<li>mode：'w' 重写，'a' 追加</li>
</ul>
</li>
<li>
<p>举例：保存读取出来的股票数据</p>
<ul>
<li>保存'open'列的数据，然后读取查看结果</li>
</ul>
<pre><code class="language-python">data[:10].to_csv(&quot;./data/test.csv&quot;, columns=[&quot;open&quot;], index=&quot;date&quot;)
</code></pre>
<pre><code class="language-python">	date				open
0	2015-03-02	12.25
1	2015-03-03	12.52
2	2015-03-04	12.80
3	2015-03-05	12.88
4	2015-03-06	13.17
...
</code></pre>
<p>可以发现index单独成为了一列数据。如果需要删除，可以指定index参数为False</p>
<pre><code class="language-python">data[:10].to_csv(&quot;./data/test2.csv&quot;, columns=[&quot;open&quot;], index=False)

	open
0	12.25
1	12.52
2	12.80
3	12.88
...
</code></pre>
</li>
</ul>
<h3 id="2-hdf5">2. HDF5</h3>
<h4 id="21-read_hdf与to_hdf">2.1. read_hdf()与to_hdf()</h4>
<p>HDF5文件的读取和存储需要<strong>指定一个键，值为要存储的DataFrame</strong>。</p>
<ul>
<li>
<p>pandas.read_hdf(path_or_buf, key=None, **kwargs)</p>
<p>从h5文件中读取数据</p>
<ul>
<li>path_or_buf：文件路径</li>
<li>key：读取的键</li>
</ul>
</li>
<li>
<p>DataFrame.to_hdf(path_or_buf, key, **kwargs)</p>
</li>
</ul>
<h4 id="22-案例">2.2. 案例</h4>
<ul>
<li>
<p>读取文件</p>
<pre><code class="language-python">pd.read_hdf(&quot;./data/day_close.h5&quot;)
</code></pre>
</li>
<li>
<p>存储文件</p>
<pre><code class="language-python">day_close.to_hdf(&quot;./data/day_close.h5&quot;, key=&quot;day_close&quot;)
</code></pre>
<p>再次读取的时候需要指定键的名字</p>
<pre><code class="language-python">pd.read_hdf(&quot;./data/day_close.h5&quot;, key=&quot;day_close&quot;)
</code></pre>
<p><strong>注意：优先选择使用HDF5文件存储</strong></p>
<ul>
<li>HDF5在存储时支持压缩，<strong>使用的方式是blosc</strong>，这个是<strong>速度最快也是pandas默认支持的</strong></li>
<li>使用压缩可以<strong>提高磁盘利用率，节省空间</strong></li>
<li>HDF5还是跨平台的，可以轻松迁移到hadoop上</li>
</ul>
</li>
</ul>
<h3 id="3-json">3. JSON</h3>
<h4 id="31-read_json">3.1. read_json()</h4>
<ul>
<li>
<p>pandas.read_json(path_or_buf=None, orient=None, typ='frame', lines=False)</p>
<ul>
<li>
<p>作用：将JSON格式转换成默认的Pandas DataFrame格式</p>
</li>
<li>
<p>orient：string, Indication of expected JSON string format.字符串，表示预期的JSON字符串格式。</p>
<ul>
<li>
<p>'split': dict like {index -&gt; [index], columns -&gt; [columns], data -&gt; [data]}</p>
<p>split将索引总结到索引，列名到列名，数据到数据。</p>
</li>
<li>
<p>'records': list like [{column -&gt; value}, ..., {column -&gt; value}]</p>
<p>records以<code>columns:values</code>的形式输出</p>
</li>
<li>
<p><strong>'index': dict like {column -&gt; {index -&gt; value}}</strong>, <strong>默认输出该格式</strong></p>
<p>index以<code>column:{index:value}</code>的形式输出</p>
</li>
<li>
<p>'values': just the values array</p>
<p>values直接输出值</p>
</li>
</ul>
</li>
<li>
<p>lines: boolean, default False</p>
<p>按照每行读取json对象</p>
</li>
<li>
<p>typ: default 'frame'，指定转换成的对象类型series或者dataframe</p>
</li>
</ul>
</li>
<li>
<p>读取</p>
<pre><code class="language-python">read = pd.read_json(&quot;./data/Sarcasm_Headlines_Dataset.json&quot;, orient=&quot;records&quot;, lines=True)
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313162157386.png" alt="image-20210313162157386" loading="lazy"></figure>
</li>
</ul>
<h4 id="32-to_json">3.2. to_json()</h4>
<ul>
<li>
<p>DataFrame.to_json(path_or_buf=None, orient=None, lines=False)</p>
<ul>
<li>将Pandas对象存储为json格式</li>
</ul>
</li>
<li>
<p>案例</p>
<pre><code class="language-python">read.to_json(&quot;./data/test.json&quot;, orient='records')
</code></pre>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandas-02-DataFrame运算]]></title>
        <id>https://fade-color.github.io/post/pandas-02-dataframe-yun-suan/</id>
        <link href="https://fade-color.github.io/post/pandas-02-dataframe-yun-suan/">
        </link>
        <updated>2021-04-05T10:54:51.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-算术运算">1. 算术运算</h3>
<ul>
<li>
<p>add(other)</p>
<p>比如进行数学运算加上一个具体数字</p>
<pre><code class="language-python">data[&quot;open&quot;].add(10)  # open列加10
# data[&quot;open&quot;] + 10  # 一般不这么写
</code></pre>
</li>
<li>
<p>sub(other)</p>
<p>用法同add</p>
</li>
</ul>
<h3 id="2-逻辑运算">2. 逻辑运算</h3>
<h4 id="21-逻辑运算符号">2.1. 逻辑运算符号</h4>
<ul>
<li>
<p>逻辑运算类型：&gt;, &gt;=, &lt;, &lt;=, ==, !=</p>
</li>
<li>
<p>复合逻辑运算：&amp;, |, ~ （与，或，非）</p>
</li>
<li>
<p>筛选data[&quot;open&quot;] &gt; 23的日期数据</p>
<pre><code class="language-python"># 返回逻辑结果
data[&quot;open&quot;] &gt; 20

2018-02-27     True
2018-02-26     True
2018-02-23     True
2018-02-22     True
2018-02-14     True
</code></pre>
<pre><code class="language-python"># 通过逻辑结果筛选数据
data[data[&quot;open&quot;] &gt; 23].head()
</code></pre>
</li>
<li>
<p>多个逻辑判断</p>
<pre><code class="language-python">data[(data[&quot;open&quot;]&gt;23) &amp; (data[&quot;open&quot;] &lt; 24)].head()
</code></pre>
</li>
</ul>
<h4 id="22-逻辑运算函数">2.2. 逻辑运算函数</h4>
<ul>
<li>
<p>query(expr)：直接得出结果数据</p>
<ul>
<li>expr：查询字符串</li>
</ul>
<p>通过query使刚才的过程更加方便简洁：</p>
<pre><code class="language-python">data.query(&quot;open&gt;23 &amp; open&lt;24&quot;).head()
</code></pre>
</li>
<li>
<p>isin(values)：生成bool系列，还需要索引才能得出数据</p>
<ul>
<li>values：列表，筛选出存在于该列表中的数据</li>
</ul>
<p>例如筛选出&quot;open&quot;列值为23.23和23.71的数据</p>
<pre><code class="language-python">data[data[&quot;open&quot;].isin([23.23, 23.71])]
</code></pre>
</li>
</ul>
<h3 id="3-统计运算">3. 统计运算</h3>
<h4 id="31-describe">3.1. describe</h4>
<p>综合分析：直接得出很多结果，<code>count</code>，<code>mean</code>，<code>std</code>，<code>min</code>，<code>max</code>等</p>
<pre><code class="language-python"># 计算数量，平均值，标准差，最小值，最大值
data.describe()
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313113742302.png" alt="image-20210313113742302" loading="lazy"></figure>
<h4 id="32-统计函数">3.2. 统计函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">count</th>
<th style="text-align:center">Number of non-NA observations 每列或每行的非NA单元数量</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sum</td>
<td style="text-align:center">Sum of values 求和</td>
</tr>
<tr>
<td style="text-align:center">mean</td>
<td style="text-align:center">Mean of values 平均值</td>
</tr>
<tr>
<td style="text-align:center">median</td>
<td style="text-align:center">Arithmetic median of values 中位数</td>
</tr>
<tr>
<td style="text-align:center">min</td>
<td style="text-align:center">Minimum 最小值</td>
</tr>
<tr>
<td style="text-align:center">max</td>
<td style="text-align:center">Maximum 最大值</td>
</tr>
<tr>
<td style="text-align:center">mode</td>
<td style="text-align:center">Mode 众数</td>
</tr>
<tr>
<td style="text-align:center">abs</td>
<td style="text-align:center">Absolute Value 绝对值</td>
</tr>
<tr>
<td style="text-align:center">prod</td>
<td style="text-align:center">Product of values 所有元素的乘积</td>
</tr>
<tr>
<td style="text-align:center">std</td>
<td style="text-align:center">Bessel-corrected sample standard deviation 标准差</td>
</tr>
<tr>
<td style="text-align:center">var</td>
<td style="text-align:center">Unbiased variance 无偏方差，均方差</td>
</tr>
<tr>
<td style="text-align:center">idxmax</td>
<td style="text-align:center">compute the index labels with the maximum 最大值的索引</td>
</tr>
<tr>
<td style="text-align:center">idxmin</td>
<td style="text-align:center">compute the index labels with the minimum 最小值的索引</td>
</tr>
</tbody>
</table>
<p><strong>坐标轴默认按照列“columns”(axis=0, default)，如果要指定对行“index”需要指定(axis=1)</strong></p>
<ul>
<li>
<p>max()、min()</p>
<pre><code class="language-python">data.max()

open                34.99
high                36.35
close               35.21
low                 34.01
volume          501915.41
price_change         3.03
p_change            10.03
turnover            12.56

data.min()  # 与max类似
</code></pre>
</li>
<li>
<p>median()</p>
<p>如果没有中位数，取中间两个数的平均值</p>
</li>
</ul>
<h4 id="33-累计统计函数">3.3. 累计统计函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">cumsum</td>
<td style="text-align:center">计算前1/2/3/.../n个数的和</td>
</tr>
<tr>
<td style="text-align:center">cummax</td>
<td style="text-align:center">计算前1/2/3/.../n个数的最大值</td>
</tr>
<tr>
<td style="text-align:center">cummin</td>
<td style="text-align:center">计算前1/2/3/.../n个数的最小值</td>
</tr>
<tr>
<td style="text-align:center">cumprod</td>
<td style="text-align:center">计算前1/2/3/.../n个数的积</td>
</tr>
</tbody>
</table>
<p>这些函数可以对series和dataframe操作</p>
<p>例如统计股票&quot;p_change&quot;变化情况：</p>
<ul>
<li>
<p>排序（按照时间先后进行累计）</p>
<pre><code class="language-python">data = data.sort_index()
</code></pre>
</li>
<li>
<p>对p_change列进行累计求和</p>
<pre><code class="language-python">stock_rise = data[&quot;p_change&quot;]
stock_rise.cumsum()

2015-03-02      2.62
2015-03-03      4.06
2015-03-04      5.63
2015-03-05      7.65
2015-03-06     16.16
               ...  
2018-02-14    112.59
2018-02-22    114.23
2018-02-23    116.65
2018-02-26    119.67
2018-02-27    122.35
Name: p_change, Length: 643, dtype: float64
</code></pre>
</li>
<li>
<p>通过折线图展示</p>
<blockquote>
<p>使用<code>plot</code>函数需要导入matplotlib.</p>
</blockquote>
<pre><code class="language-python">import matplotlib.pyplot as plt
# 用plot显示图形
stock_rise.cumsum().plot()
# 需要调用show才能显示
plt.show()
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2021/04/18/GYpUaBrLiuNX2Ef.png" alt="image-20210418190538126" loading="lazy"></figure>
<p>画图函数说明：</p>
<ul>
<li><code>DataFrame.plot(kind='line')</code>
<ul>
<li>kind: str，需要绘制图形的种类
<ul>
<li><strong>'line': line plot (default)</strong></li>
<li>'bar': vertical bar plot</li>
<li>'barh': horizontal bar plot
<ul>
<li><a href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.barh.html">关于'barh'的解释</a></li>
</ul>
</li>
<li>'hist': histogram</li>
<li>'pie': pie plot</li>
<li>'scatter': scatter plot</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-自定义运算">4. 自定义运算</h3>
<ul>
<li>
<p>apply(func, axis=0)</p>
<ul>
<li>func: 自定义函数</li>
<li>axis=0: 默认列，1为行</li>
</ul>
<pre><code class="language-python">data[[&quot;open&quot;, &quot;close&quot;]].apply(lambda x: x.max() - x.min(), axis=0)
open     22.74
close    22.85
dtype: float64
</code></pre>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandas-01-基本数据操作]]></title>
        <id>https://fade-color.github.io/post/pandas-01-ji-ben-shu-ju-cao-zuo/</id>
        <link href="https://fade-color.github.io/post/pandas-01-ji-ben-shu-ju-cao-zuo/">
        </link>
        <updated>2021-04-04T12:59:46.000Z</updated>
        <content type="html"><![CDATA[<ul>
<li>导入数据</li>
</ul>
<pre><code class="language-python"># 读取文件
data = pd.read_csv(&quot;./data/stock_day.csv&quot;)

# 删除一些无用列
data = data.drop([&quot;ma5&quot;, &quot;ma10&quot;, &quot;ma20&quot;, &quot;v_ma5&quot;, &quot;v_ma10&quot;, &quot;v_ma20&quot;], axis=1)
</code></pre>
<img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210312104037221.png" alt="image-20210312104037221" style="zoom:50%;" />
<h3 id="1-索引操作">1. 索引操作</h3>
<ul>
<li>
<p>直接行列索引（先列后行）</p>
<pre><code class="language-python"># 先列后行
data[&quot;open&quot;][&quot;2018-02-27&quot;]  # 23.53

# 取前两行的high和low
data[0:2][[&quot;high&quot;, &quot;low&quot;]]

# 不支持的操作
# 先行后列
data[&quot;2018-02-27&quot;][&quot;open&quot;]
# 切片
data[:1, :2]
</code></pre>
</li>
<li>
<p>使用loc和iloc索引</p>
<pre><code class="language-python"># loc:仅支持行列名索引
data.loc[&quot;2018-02-27&quot;:&quot;2018-02-14&quot;, &quot;open&quot;:&quot;close&quot;]

# iloc:通过下标进行索引
data.iloc[:3, :5]  # 前3行，前5列
</code></pre>
</li>
<li>
<p>使用ix组合索引</p>
<blockquote>
<p>在pandas 0.20.0版本中此方法被废弃，使用.iloc和.loc组合索引。</p>
</blockquote>
<p>获取第1-4天，[&quot;open&quot;, &quot;close&quot;, &quot;high&quot;, &quot;low&quot;]这四个指标的结果</p>
<pre><code class="language-python"># 使用ix进行下标和列名组合索引
data.ix[0:4, [&quot;open&quot;, &quot;close&quot;, &quot;high&quot;, &quot;low&quot;]]

# 推荐使用loc和iloc组合
data.loc[data.index[0:4], [&quot;open&quot;, &quot;close&quot;, &quot;high&quot;, &quot;low&quot;]]
# 或
data.iloc[0:4, data.columns.get_indexer([&quot;open&quot;, &quot;close&quot;, &quot;high&quot;, &quot;low&quot;])]
</code></pre>
</li>
</ul>
<h3 id="2-赋值操作">2. 赋值操作</h3>
<pre><code class="language-python"># 直接修改原来的值
data[&quot;close&quot;] = 1
# 或者
data.close = 1
</code></pre>
<h3 id="3-排序">3. 排序</h3>
<h4 id="31-dataframe排序">3.1. DataFrame排序</h4>
<ul>
<li>
<p>使用<code>dataframe.sort_values(by=,ascending=)</code></p>
<ul>
<li>指定单个键或多个键进行排序</li>
<li>参数：
<ul>
<li>by：指定排序参考的键</li>
<li>ascending：默认升序
<ul>
<li><code>ascending=True</code>：升序</li>
<li><code>ascending=False</code>：降序</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="language-python"># 根据开盘价降序排序
data.sort_values(by=&quot;open&quot;, ascending=False).head()

# 根据开盘价和最高价升序排序
data.sort_values(by=[&quot;open&quot;, &quot;high&quot;], ascending=True).head()
</code></pre>
</li>
<li>
<p>使用<code>dataframe.sort_index()</code>以索引进行排序</p>
<p>默认升序，同样可以指定<code>ascending=False</code>来进行降序排序</p>
<pre><code class="language-python"># 以行（日期）进行升序排序
data.sort_index()
</code></pre>
</li>
</ul>
<h4 id="32-series排序">3.2. Series排序</h4>
<ul>
<li>
<p>使用<code>series.sort_values(ascending=)</code>以列排序</p>
<pre><code class="language-python">data[&quot;high&quot;].sort_values().head()
</code></pre>
</li>
<li>
<p>使用<code>series.sort_index(ascending=)</code>以索引排序</p>
<pre><code class="language-python">data[&quot;high&quot;].sort_index(ascending=False).head()
</code></pre>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Matplotlib更改plot样式]]></title>
        <id>https://fade-color.github.io/post/matplotlib-geng-gai-plot-yang-shi/</id>
        <link href="https://fade-color.github.io/post/matplotlib-geng-gai-plot-yang-shi/">
        </link>
        <updated>2021-04-04T12:33:40.000Z</updated>
        <content type="html"><![CDATA[<p>觉得Matplotlib.pyplot原本的样式不够好看，于是就研究了一下怎么更改其样式</p>
<p>plt是自带了很多样式的，输入以下代码查看自带样式：</p>
<pre><code class="language-python">import matplotlib.pyplot as plt

plt.style.available
</code></pre>
<p>输出结果如下：</p>
<pre><code class="language-python">['Solarize_Light2',
 '_classic_test_patch',
 'bmh',
 'classic',
 'dark_background',
 'fast',
 'fivethirtyeight',
 'ggplot',
 'grayscale',
 'seaborn',
 'seaborn-bright',
 'seaborn-colorblind',
 'seaborn-dark',
 'seaborn-dark-palette',
 'seaborn-darkgrid',
 'seaborn-deep',
 'seaborn-muted',
 'seaborn-notebook',
 'seaborn-paper',
 'seaborn-pastel',
 'seaborn-poster',
 'seaborn-talk',
 'seaborn-ticks',
 'seaborn-white',
 'seaborn-whitegrid',
 'tableau-colorblind10']
</code></pre>
<p>这里就是全部自带的主题了</p>
<p>应用样式：</p>
<pre><code class="language-python">plt.style.use('seaborn-darkgrid')
</code></pre>
<p>再进行画图就可以看到效果了</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2021/04/17/aeUEAoxN3SB19pq.png" alt="函数" loading="lazy"></figure>
<p>如果想要将该样式设为默认，就要修改<code>matplotlibrc</code>文件使其永久生效：</p>
<p>找到要应用的样式文件（以seaborn-darkgrid为例）：</p>
<p>windows下可以用everything进行搜索，mac下可以进到python包目录下的matplotlib文件夹下搜索</p>
<p>搜索<code>seaborn-darkgrid.mplstyle</code>文件，如下：</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2021/04/17/TdUYaQoZmyHsh2q.png" alt="image-20210417103801262" loading="lazy"></figure>
<p>用文本编辑器打开内容如下：</p>
<pre><code class="language-yml"># Seaborn common parameters
# .15 = dark_gray
# .8 = light_gray
figure.facecolor: white
text.color: .15
axes.labelcolor: .15
legend.frameon: False
legend.numpoints: 1
legend.scatterpoints: 1
xtick.direction: out
ytick.direction: out
xtick.color: .15
ytick.color: .15
axes.axisbelow: True
image.cmap: Greys
font.family: sans-serif
font.sans-serif: Arial, Liberation Sans, DejaVu Sans, Bitstream Vera Sans, sans-serif
grid.linestyle: -
lines.solid_capstyle: round

# Seaborn darkgrid parameters
axes.grid: True
axes.facecolor: EAEAF2
axes.edgecolor: white
axes.linewidth: 0
grid.color: white
xtick.major.size: 0
ytick.major.size: 0
xtick.minor.size: 0
ytick.minor.size: 0
</code></pre>
<p>接下来找到<code>matplotlibrc</code>文件：</p>
<ul>
<li>Mac：直接打开终端输入<code>vim ~/.matplotlib/matplotlibrc</code></li>
<li>Win：在<code>C:/Users</code>找到用户目录进入后把显示隐藏文件打开，进入到<code>.matplotlib</code>文件夹即可找到该文件（如果没有就新建一个）</li>
</ul>
<p>将<code>seaborn-darkgrid.mplstyle</code>文件中的内容复制到<code>matplotlibrc</code>文件中即可。</p>
<p>重启JupyterLab即可看到效果。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[JupyterLab 显示中文字体]]></title>
        <id>https://fade-color.github.io/post/Jupyterlab-xian-shi-zhong-wen-zi-ti/</id>
        <link href="https://fade-color.github.io/post/Jupyterlab-xian-shi-zhong-wen-zi-ti/">
        </link>
        <updated>2021-04-03T09:28:28.000Z</updated>
        <content type="html"><![CDATA[<h3 id="查看当前系统jupyterlab支持的所有字体">查看当前系统JupyterLab支持的所有字体</h3>
<pre><code class="language-python">from matplotlib.font_manager import FontManager

mpl_fonts = set(f.name for f in FontManager().ttflist)

print('all font list get from matplotlib.font_manager:')
for f in sorted(mpl_fonts):
    print('\t' + f)
</code></pre>
<p>打印结果如下：</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2021/04/17/y85rFj3HD6aTdsL.png" alt="image-20210417092307128" loading="lazy"></figure>
<p>选择一款中文字体即可，这里我选择的是苹果的冬青黑体：&quot;Hiragino Sans GB&quot;，windows用户可以选择黑体（SimHei）</p>
<h3 id="删除缓存文件">删除缓存文件</h3>
<p>Mac：</p>
<ul>
<li>
<pre><code class="language-bash">cd ~/.matplotlib
rm -r *
</code></pre>
</li>
</ul>
<p>Windows：</p>
<ul>
<li>
<p>进入到自己的用户目录文件夹下，在资源管理器的“查看”选项卡中勾选“显示隐藏文件及目录”即可看到<code>.matplotlib</code>文件夹，或者直接在资源管理器的路径栏中在路径后面手动输入<code>.matplotlib</code>后回车即可进入该文件夹</p>
</li>
<li>
<p>然后把该文件夹内的资源删除即可。</p>
</li>
</ul>
<h3 id="修改matplotlibrc配置文件">修改matplotlibrc配置文件</h3>
<p>Mac：</p>
<ul>
<li>
<p>输入<code>vim ~/.matplotlib/matplotlibrc</code>：</p>
<p>然后将文件内容修改为：</p>
<pre><code>font.family         : sans-serif
font.sans-serif         : Hiragino Sans GB
axes.unicode_minus  : False
</code></pre>
<p><code>font.sans-serif</code>后面改为自己选择的字体即可。</p>
</li>
</ul>
<p>Win：</p>
<ul>
<li>在<code>.matplotlib</code>文件夹中新建matplotlibrc文件，把上面内容粘贴进去后<code>.txt</code>后缀名删掉即可。</li>
</ul>
<h3 id="重启jupyterlab内核">重启JupyterLab内核</h3>
<p>接下来重启一下JupyterLab内核即可看到效果。</p>
]]></content>
    </entry>
</feed>