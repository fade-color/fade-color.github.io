<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://fade-color.github.io</id>
    <title>七年的万事屋</title>
    <updated>2021-04-18T11:43:05.356Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://fade-color.github.io"/>
    <link rel="self" href="https://fade-color.github.io/atom.xml"/>
    <subtitle>温故而知新</subtitle>
    <logo>https://fade-color.github.io/images/avatar.png</logo>
    <icon>https://fade-color.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, 七年的万事屋</rights>
    <entry>
        <title type="html"><![CDATA[机器学习笔记01. K-近邻算法简介]]></title>
        <id>https://fade-color.github.io/post/ji-qi-xue-xi-bi-ji-01-k-jin-lin-suan-fa-jian-jie/</id>
        <link href="https://fade-color.github.io/post/ji-qi-xue-xi-bi-ji-01-k-jin-lin-suan-fa-jian-jie/">
        </link>
        <updated>2021-04-18T08:01:08.000Z</updated>
        <content type="html"><![CDATA[<h3 id="11-k-近邻算法knn概念">1.1. K-近邻算法(KNN)概念</h3>
<p>K Nearest Neighbor算法又叫KNN算法</p>
<ul>
<li>
<p>定义：</p>
<p>如果一个样本在特征空间中的<strong>k个最相似(即特征空间中最近邻)的样本中的大多数属于某一个类别</strong>，则该样本也属于这个类别。</p>
</li>
<li>
<p>距离公式：</p>
<p>两个样本的距离可以通过如下公式计算，又叫欧式距离</p>
<ul>
<li>
<p>二维平面上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>三维空间上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1,z_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2,z_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>z</mi><mn>1</mn></msub><mo>−</mo><msub><mi>z</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2+(z_1-z_2)^2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>n维空间上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mo>(</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>k</mi></mrow></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{\sum_{k=1}^n{(x_{1k}-x_{2k})^2}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1812600000000004em;vertical-align:-1.302113em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8791470000000003em;"><span class="svg-align" style="top:-5.141260000000001em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.8391470000000005em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.2212600000000005em;"><svg width='400em' height='3.2212600000000005em' viewBox='0 0 400000 3221' preserveAspectRatio='xMinYMin slice'><path d='M702 80H400000v40H742v3087l-4 4-4 4c-.667.7
-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667
-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155
 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
</ul>
</li>
</ul>
<h3 id="12-算法流程总结">1.2. 算法流程总结</h3>
<ol>
<li>计算已知类别数据集中的点与当前点的距离</li>
<li>按距离递增次序排序</li>
<li>选取与当前点距离最小的k个点</li>
<li>统计前k个点所在的类别出现的概率</li>
<li>返回前k个点出现频率最高的类别作为当前点的预测分类</li>
</ol>
<h2 id="2-k近邻算法api初步使用">2. K近邻算法api初步使用</h2>
<h3 id="21-scikit-learn功能">2.1. Scikit-learn功能</h3>
<ul>
<li>分类、聚类、回归</li>
<li>特征工程</li>
<li>模型选择、调优</li>
</ul>
<h3 id="22-k-近邻算法api">2.2. K-近邻算法API</h3>
<ul>
<li><strong>sklearn.neighbors.KNeighborsClassifier(n_neighbors=5)</strong>
<ul>
<li>n_neighbors：int，可选（默认为5），k_neighbors查询默认使用的邻居数</li>
</ul>
</li>
</ul>
<h3 id="23-案例">2.3. 案例</h3>
<h4 id="231-步骤分析">2.3.1. 步骤分析</h4>
<ul>
<li>
<ol>
<li>获取数据集</li>
</ol>
</li>
<li>
<ol start="2">
<li>数据基本处理（暂时省略）</li>
</ol>
</li>
<li>
<ol start="3">
<li>特征工程（暂时省略）</li>
</ol>
</li>
<li>
<ol start="4">
<li>机器学习</li>
</ol>
</li>
<li>
<ol start="5">
<li>模型评估（暂时省略）</li>
</ol>
</li>
</ul>
<h4 id="232-代码过程">2.3.2. 代码过程</h4>
<ul>
<li>
<p>导入模块</p>
<pre><code class="language-python">from sklearn.neighbors import KNeighborsClassifier
</code></pre>
</li>
<li>
<p>构造数据集</p>
<pre><code class="language-python">x = [[0], [1], [2], [3]]
y = [0, 0, 1, 1]
</code></pre>
</li>
<li>
<p>机器学习 -- 模型训练</p>
<pre><code class="language-python"># 2.1.实例化一个估计器对象
estimator = KNeighborsClassifier(n_neighbors=1)

# 2.2.调用fit方法进行训练
estimator.fit(x, y)

# 3.数据预测
ret = estimator.predict([[100]])
</code></pre>
</li>
</ul>
<h2 id="3-距离度量">3. 距离度量</h2>
<h3 id="31-距离公式的基本性质">3.1. 距离公式的基本性质</h3>
<p>在机器学习过程中，对于函数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">dist(.,.)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mclose">)</span></span></span></span> ，若它是一“距离度量”(distance measure)，则需满足一些基本性质：</p>
<ul>
<li>非负性： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>X</mi><mi>j</mi></msub><mo>)</mo><mo>&gt;</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">dist(X_i,X_j)&gt;=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> ；</li>
<li>同一性： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">dist(x_i,x_j)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 。当且仅当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub><mo>=</mo><msub><mi>X</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">X_i=X_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> ；</li>
<li>对称性： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>)</mo><mo>=</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">dist(x_i,x_j)=dist(x_j,x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ；</li>
<li>直递性： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>)</mo><mo>&lt;</mo><mo>=</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>k</mi></msub><mo>)</mo><mo>+</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">dist(x_i,x_j)&lt;=dist(x_i,x_k)+dist(x_k,x_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ；</li>
</ul>
<blockquote>
<p>直递性常被称为“三角不等式”。</p>
</blockquote>
<h3 id="32-常见距离公式">3.2. 常见距离公式</h3>
<h4 id="321-欧氏距离euclidean-distance">3.2.1. 欧氏距离(Euclidean Distance)：</h4>
<ul>
<li>
<p>二维平面上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>三维空间上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1,z_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2,z_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>z</mi><mn>1</mn></msub><mo>−</mo><msub><mi>z</mi><mn>2</mn></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2+(z_1-z_2)^2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>n维空间上点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的欧氏距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mo>(</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>k</mi></mrow></msub><msup><mo>)</mo><mn>2</mn></msup></mrow></mrow></msqrt></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt{\sum_{k=1}^n{(x_{1k}-x_{2k})^2}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1812600000000004em;vertical-align:-1.302113em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8791470000000003em;"><span class="svg-align" style="top:-5.141260000000001em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.8391470000000005em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.2212600000000005em;"><svg width='400em' height='3.2212600000000005em' viewBox='0 0 400000 3221' preserveAspectRatio='xMinYMin slice'><path d='M702 80H400000v40H742v3087l-4 4-4 4c-.667.7
-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667
-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155
 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
</ul>
<h4 id="322-曼哈顿距离manhattan-distance">3.2.2. 曼哈顿距离(Manhattan Distance)：</h4>
<ul>
<li>
<p>二维平面两点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的曼哈顿距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mo>+</mo><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">d_{12}=|x_1-x_2|+|y_1-y_2|
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></p>
</li>
<li>
<p>n维空间点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 的曼哈顿距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mrow><mn>1</mn><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>k</mi></mrow></msub><mi mathvariant="normal">∣</mi></mrow></mrow><annotation encoding="application/x-tex">d_{12}=\sum_{k=1}^{n}{|x_{1k}-x_{2k}|}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.9535100000000005em;vertical-align:-1.302113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></span></p>
</li>
</ul>
<h4 id="323-切比雪夫距离chebyshev-distance">3.2.3. 切比雪夫距离(Chebyshev Distance)：</h4>
<ul>
<li>
<p>二维平面两点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_1,y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_2,y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的曼哈顿距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><mi>max</mi><mo>⁡</mo><mrow><mo>(</mo><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mo separator="true">,</mo><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mo>)</mo></mrow></mrow><annotation encoding="application/x-tex">d_{12}=\max{(|x_1-x_2|,|y_1-y_2|)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mclose">)</span></span></span></span></span></span></p>
</li>
<li>
<p>n维空间点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 的曼哈顿距离：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><mi>max</mi><mo>⁡</mo><mrow><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mrow><mn>1</mn><mi>i</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>i</mi></mrow></msub><mi mathvariant="normal">∣</mi></mrow></mrow><annotation encoding="application/x-tex">d_{12}=\max{|x_{1i}-x_{2i}|}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></span></p>
</li>
</ul>
<h4 id="324-闵可夫斯基距离minkowski-distance">3.2.4. 闵可夫斯基距离(Minkowski Distance)：</h4>
<p>闵氏距离不是一种距离，而是一组距离的定义，是对多个距离度量公式的概括性的表述。</p>
<p>两个n维变量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>(</mo><msub><mi>x</mi><mn>11</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>12</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">a(x_{11},x_{12},...,x_{1n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>(</mo><msub><mi>x</mi><mn>21</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>22</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">b(x_{21},x_{22},...,x_{2n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 间的闵可夫斯基距离定义为：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mn>12</mn></msub><mo>=</mo><mroot><mrow><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mrow><mn>1</mn><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mn>2</mn><mi>k</mi></mrow></msub><msup><mi mathvariant="normal">∣</mi><mi>p</mi></msup></mrow></mrow><mi>p</mi></mroot></mrow><annotation encoding="application/x-tex">d_{12}=\sqrt[p]{\sum_{k=1}^n{|x_{1k}-x_{2k}|^p}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1812600000000004em;vertical-align:-1.302113em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5615004000000001em;"><span style="top:-2.8462204000000004em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8791470000000003em;"><span class="svg-align" style="top:-5.141260000000001em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.590392em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.8391470000000005em;"><span class="pstrut" style="height:5.141260000000001em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.2212600000000005em;"><svg width='400em' height='3.2212600000000005em' viewBox='0 0 400000 3221' preserveAspectRatio='xMinYMin slice'><path d='M702 80H400000v40H742v3087l-4 4-4 4c-.667.7
-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667
-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155
 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>其中p是一个可变参数：</p>
<ul>
<li>当p=1时，就是曼哈顿距离；</li>
<li>当p=2时，就是欧氏距离；</li>
<li>当p→∞时，就是切比雪夫距离。</li>
</ul>
<p><strong>缺点：</strong></p>
<ol>
<li>将各个分量的量纲(scale)，也就是“单位”相同的看待了；</li>
<li>未考虑各个分量的分布(期望、方差等)可能是不同的。</li>
</ol>
<h3 id="33-连续属性和离散属性的距离计算">3.3. “连续属性”和“离散属性”的距离计算</h3>
<ul>
<li>若属性之间存在序关系，则可以将其转化为连续值，例如：身高属性“高”“中”“矮”，可转化为{1, 0.5, 0}。
<ul>
<li>闵可夫斯基距离可以用于有序属性。</li>
</ul>
</li>
<li>若属性值之间不存在序关系，则通常将其转化为向量的形式，例如：性别属性“男”“女”，可转化为{(1, 0), (0, 1)}。</li>
</ul>
<h2 id="4-k值的选择">4. K值的选择</h2>
<ul>
<li>
<p><strong>K值过小</strong>：容易受到异常点的影响</p>
<p><strong>K值得减小就意味着整体模型变得复杂，容易发生过拟合</strong></p>
</li>
<li>
<p><strong>K值过大</strong>：容易遇到样本均衡问题</p>
<p>K值较大，与输入实例较远（不相似的）训练实例也会对预测器作用，使预测发生错误，<strong>K值的增大就意味着整体的模型变得简单，容易发生欠拟合</strong></p>
</li>
</ul>
<hr>
<ul>
<li>近似误差
<ul>
<li>对现有训练集的训练误差，关注<strong>训练集</strong></li>
<li>如果<strong>近似误差过小可能会出现过拟合的现象</strong></li>
<li>模型本身不是最接近最佳模型</li>
</ul>
</li>
<li>估计误差
<ul>
<li>可以理解为对测试集的测试误差，关注<strong>测试集</strong></li>
<li>估计误差小可以说明对未知数据的预测能力好</li>
<li>模型本身最接近最佳模型</li>
</ul>
</li>
</ul>
<h2 id="5-kd树">5. kd树</h2>
<p>实现K近邻算法时，<strong>主要的问题是如何对训练数据进行快速K近邻搜索</strong>。</p>
<p><strong>K近邻算法最简单的实现是线性扫描（穷举搜索），即要计算输入实例与每一个训练实例的距离。计算并存储好以后，再查找K近邻。</strong></p>
<h3 id="51-kd树">5.1. kd树</h3>
<p>为了避免每次都重新计算一遍距离，算法会把距离信息保存在一棵树里，这样在计算之前从树里查询距离信息，尽量避免计算。其基本原理是，<strong>如果A和B距离很远，B和C距离很近，那么A和C的距离也很远</strong>。有了这个信息，就可以在合适的时候跳过距离远的点。</p>
<p>这样优化后的算法复杂度可降低到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>D</mi><mi>N</mi><mi>log</mi><mo>⁡</mo><mrow><mo>(</mo><mi>N</mi><mo>)</mo></mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">O(DN\log{(N)})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span><span class="mclose">)</span></span></span></span> 。</p>
<h3 id="52-构造方法">5.2. 构造方法</h3>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2021/03/28/lMNWQaq6E8VGIK7.jpg" alt="kd-tree" loading="lazy"></figure>
<ol>
<li><strong>构造根节点，使根节点对应于K维空间中包含所有实例点的超矩形区域；</strong></li>
<li><strong>通过递归的方法，不断地对K维空间进行切分，生成子节点。</strong></li>
<li><strong>重复上述过程直到子区域内没有实例时终止（终止时的节点为叶节点）。</strong></li>
</ol>
<p>通常，循环选择坐标轴对空间切分，选择训练实例点在坐标轴上的中位数为切分点，这样得到的kd树是平衡的（平衡二叉树）。</p>
<p>kd树中每个节点是一个向量，和二叉树按照数的大小划分不同的是，kd树每层需要选定向量中的某一维，然后根据这一维按左小右大的方式划分数据。在构建kd树时，关键需要解决两个问题：</p>
<p><strong>(1). 选择向量的哪一维进行划分；</strong></p>
<ul>
<li>可以随机选择某一维度或按顺序选择，但更好的方法应是<strong>在数据比较分散的那一维进行划分（分散的程度可以根据方差进行衡量）；</strong></li>
</ul>
<p><strong>(2). 如何划分数据；</strong></p>
<ul>
<li>好的划分方法可以使构建的树比较平衡，可以选择中位数进行划分。</li>
</ul>
<h3 id="53-案例分析">5.3. 案例分析</h3>
<h4 id="531-树的建立">5.3.1. 树的建立</h4>
<p>给定一个二维空间数据集：<code>T={(2, 3), (5, 4), (9, 6), (4, 7), (8, 1), (7, 2)}</code>，构造一个平衡kd树。</p>
<ul>
<li>
<p>第一维度(x)：2，5，9，4，8，7</p>
<p>排序：2，4，5，7，8，9</p>
<p>中位数：6</p>
</li>
<li>
<p>第二维度(y)：3，4，6，7，1，2</p>
<p>排序：1，2，3，4，6，7</p>
<p>中位数：3.5</p>
</li>
</ul>
<p>由于x维度比较分散（方差较大），所以选择根据x维度进行划分，x维度的中位数为6，所以选择5和7 均可，这里选择7为例，所以将数据集以<code>(7, 2)</code>划分为左（<code>(2, 3)</code>，<code>(4, 7)</code>，<code>(5, 4)</code>）右（<code>(8, 1)</code>，<code>(9, 6)</code>）两块；</p>
<p>接着对左半部分进行按y维度划分，<code>(2, 3)</code>，<code>(4, 7)</code>，<code>(5, 4)</code>对应的y维度数据为3，4，7；中位数为4，对应的数据是<code>(5, 4)</code>，故将左半部分又划分为左（<code>(2, 3)</code>）右（<code>(4, 7)</code>）；</p>
<p>对右半部分进行按y维度划分，<code>(8, 1)</code>，<code>(9, 6)</code>对应的y维度数据为1，6；中位数3.5，距1和6相等，这里选择6即<code>(9, 6)</code>，此时<code>(8, 1)</code>被划分到左半部分。</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2021/03/30/VOiPL91d2MczIga.png" alt="image-20210330101133675" loading="lazy"></figure>
<h2 id="6-案例鸢尾花种类预测-数据集介绍">6. 案例：鸢尾花种类预测-数据集介绍</h2>
<h3 id="61-案例鸢尾花种类预测">6.1. 案例：鸢尾花种类预测</h3>
<p>Iris数据集是常用的分类实验数据集，也称鸢尾花数据集，是一类多重变量分类分析的数据集。关于数据集的具体介绍：</p>
<ul>
<li>特征值-4个：花瓣、花萼的长度、宽度</li>
<li>目标值-3个：setosa(山鸢尾)、vericolor(虹膜锦葵)、virginica(变色鸢尾)</li>
</ul>
<h3 id="62-scikit-learn中数据集介绍">6.2. scikit-learn中数据集介绍</h3>
<h4 id="621-scikit-learn数据集api介绍">6.2.1. scikit-learn数据集API介绍</h4>
<ul>
<li>sklearn.datasets
<ul>
<li>加载获取流行数据集</li>
<li>datasets.load_*()
<ul>
<li>获取小规模数据集，数据包含在datasets里</li>
</ul>
</li>
<li>datasets.fetch_*(data_home=None)
<ul>
<li>获取大规模数据集，需要从网络上下载，函数的第一个参数是data_home，表示数据集的下载目录，默认是<code>~/scikit_learn_data/</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="6211-sklearn小数据集">6.2.1.1. sklearn小数据集</h5>
<ul>
<li>
<p><code>sklearn.datasets.load_iris()</code></p>
<p>加载并返回鸢尾花数据集</p>
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">类别</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">特征</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">样本数量</td>
<td style="text-align:center">150</td>
</tr>
<tr>
<td style="text-align:center">每个类别数量</td>
<td style="text-align:center">50</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h5 id="6212-sklearn大数据集">6.2.1.2. sklearn大数据集</h5>
<ul>
<li><code>sklearn.datasets.fetch_20newsgroups(data_home=None, subset='train')</code>
<ul>
<li><code>subset</code>：'train'或者'test'，'all'，可选，选择要加载的数据集；</li>
<li>训练集的“训练”，测试集的“测试”，两者的“全部”</li>
</ul>
</li>
</ul>
<h4 id="622-sklearn数据集返回值介绍">6.2.2. sklearn数据集返回值介绍</h4>
<ul>
<li>
<p>load和fetch返回的数据类型是<code>datasets.base.Bunch</code>（字典格式）</p>
<ul>
<li>data：特征数据数组，是形状为<code>[n_samples * n_features]</code>的二维<code>numpy.ndarray</code>数组</li>
<li>target：标签数组，是<code>n_sample</code>的一维<code>numpy.ndarray</code>数组</li>
<li>DESCR：数据描述</li>
<li>feature_names：特征名，新闻数据，手写数字、回归数据在数据集中没有</li>
<li>target_name：标签名</li>
</ul>
<pre><code class="language-python">from sklearn.datasets import load_iris

# 获取鸢尾花数据集
iris = load_iris()
print(&quot;鸢尾花数据集的返回值：\n&quot;, iris)
# 返回值是一个继承自字典的bunch
print(&quot;鸢尾花的特征值：\n&quot;, iris[&quot;data&quot;])
print(&quot;鸢尾花的目标值：\n&quot;, iris.target)
print(&quot;鸢尾花的特征值名：\n&quot;, iris.feature_names)
print(&quot;鸢尾花的目标值名：\n&quot;, iris.target_names)
print(&quot;鸢尾花的描述：\n&quot;, iris.DESCR)
</code></pre>
</li>
</ul>
<h4 id="623-查看数据分布">6.2.3. 查看数据分布</h4>
<ul>
<li><code>seaborn.lmplot()</code>会在绘制二维散点图时，自动完成回归拟合
<ul>
<li>x, y分别代表横纵坐标的列名</li>
<li>data= 要关联的数据集</li>
<li>hue= 代表按照species即花的类别分类展示</li>
<li>fit_reg= 是否进行线性拟合</li>
</ul>
</li>
</ul>
<pre><code class="language-python"># 把数据转换成dataframe
iris_d = pd.DataFrame(data=iris.data, columns=[&quot;Sepal_Length&quot;, &quot;Sepal_Width&quot;, &quot;Petal_Length&quot;, &quot;Petal_Width&quot;])
iris_d[&quot;target&quot;] = iris.target
# print(iris_d)

def iris_plot(data, col1, col2):
    sns.lmplot(x=col1, y=col2, data=data, hue=&quot;target&quot;, fit_reg=False)
    plt.title(&quot;鸢尾花数据显示&quot;)
    plt.show()

iris_plot(iris_d, &quot;Sepal_Width&quot;, &quot;Petal_Length&quot;)
</code></pre>
<h4 id="624-数据集的划分">6.2.4. 数据集的划分</h4>
<ul>
<li>训练数据：用于训练，<strong>构建模型</strong></li>
<li>测试数据：在模型检验时使用，用于<strong>评估模型是否有效</strong></li>
</ul>
<p>划分比例一般为：</p>
<table>
<thead>
<tr>
<th>训练集</th>
<th>70%</th>
<th>80%</th>
<th>75%</th>
</tr>
</thead>
<tbody>
<tr>
<td>测试集</td>
<td>30%</td>
<td>20%</td>
<td>25%</td>
</tr>
</tbody>
</table>
<p><strong>数据集划分api</strong></p>
<ul>
<li>
<p><code>sklearn.model_selection.train_test_split(arrays, *options)</code></p>
<ul>
<li>参数：
<ul>
<li>x - 数据集的特征值</li>
<li>y - 数据集的标签值</li>
<li>test_size - 测试集的大小，一般为float</li>
<li>random_state - 随机数种子不同的种子会造成不同的随机采样结果，相同的种子采样结果相同。</li>
</ul>
</li>
<li>返回值：
<ul>
<li>x_train, x_test, y_train, y_test</li>
</ul>
</li>
</ul>
<pre><code class="language-python">x_train, x_test, y_train, y_test = train_test_split(iris.data, iris.target, test_size=0.2, random_state=22)
print(&quot;训练集的特征值是：\n&quot;, x_train)
print(&quot;训练集的目标值是：\n&quot;, y_train)
print(&quot;测试集的特征值是：\n&quot;, x_test)
print(&quot;测试集的目标值是：\n&quot;, y_test)

print(&quot;训练集的目标值的形状是：\n&quot;, y_train.shape)
print(&quot;测试集的目标值的形状是：\n&quot;, y_test.shape)
</code></pre>
</li>
</ul>
<h2 id="7-特征工程-特征预处理">7. 特征工程 - 特征预处理</h2>
<h3 id="71-特征预处理">7.1. 特征预处理</h3>
<h4 id="711-定义">7.1.1. 定义</h4>
<p>特征与处理是通过<strong>一些转换函数</strong>将特征数据<strong>转换成更加适合算法模型的特征数据</strong>过程。</p>
<ul>
<li>
<p><strong>为什么要进行归一化/标准化？</strong></p>
<p><strong>特征的单位或者大小相差较大，或者某特征值的方差相比其他的特征要大出几个数量级，容易影响（支配）目标结果，使得一些算法无法学习到其他的特征</strong></p>
</li>
</ul>
<h4 id="712-包含内容数值型数据的无量纲化">7.1.2. 包含内容（数值型数据的无量纲化）</h4>
<ul>
<li>归一化</li>
<li>标准化</li>
</ul>
<h4 id="713-特征预处理api">7.1.3. 特征预处理API</h4>
<pre><code class="language-python">sklearn.preprocessing
</code></pre>
<h3 id="72-归一化">7.2. 归一化</h3>
<h4 id="721-定义">7.2.1. 定义</h4>
<p>通过对原始数据进行变换把数据映射到(默认为[0,1])之间</p>
<h4 id="722-公式">7.2.2. 公式</h4>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mo mathvariant="normal">′</mo></msup><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>max</mi><mo>⁡</mo><mo>−</mo><mi>min</mi><mo>⁡</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">{X}&#x27;=\frac{x-\min}{\max-\min}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.801892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.1141900000000002em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3448600000000002em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">min</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo>=</mo><msup><mi>X</mi><mo mathvariant="normal">′</mo></msup><mo>∗</mo><mo>(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">x</mi></mrow><mo>−</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">i</mi></mrow><mo>)</mo><mo>+</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">i</mi></mrow></mrow><annotation encoding="application/x-tex">{X}&#x27;&#x27;={X}&#x27;*(\mathrm{mx}-\mathrm{mi})+\mathrm{mi}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.801892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.801892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">i</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">i</span></span></span></span></span></span></p>
<blockquote>
<p>作用于每一列，max为一列的最大值，min为一列的最小值，那么<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">{X}&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>为最终结果，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">x</mi></mrow><annotation encoding="application/x-tex">\mathrm{mx}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">x</span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">i</mi></mrow><annotation encoding="application/x-tex">\mathrm{mi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">i</span></span></span></span></span>分别为指定区间，值默认分别为1和0</p>
</blockquote>
<h4 id="723-api">7.2.3. API</h4>
<ul>
<li><code>sklearn.preprocessing.MinMaxScaler(feature_range=(0,1)...)</code>
<ul>
<li><code>MinMaxScaler.fit_transform(X)</code>
<ul>
<li><code>X</code>：numpy.array格式的数据[n_samples, n_features]</li>
<li>返回值：转换后的形状相同的array</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="724-数据计算">7.2.4. 数据计算</h4>
<p>要进行计算的数据如下，保存在dating.txt中：</p>
<pre><code class="language-python">milage,Liters,Consumtime,target
40920,8.326976,0.953952,3
14488,7.153469,1.673904,2
26052,1.441871,0.805124,1
75136,13.147394,0.428964,1
38344,1.669788,0.134296,1
</code></pre>
<p>实例化MinMaxScaler并通过fit_transform转换：</p>
<pre><code class="language-python">import pandas as pd
from sklearn.preprocessing import MinMaxScaler


def minmax_demo():
    &quot;&quot;&quot;
    归一化演示
    :return: None
    &quot;&quot;&quot;
    data = pd.read_csv(&quot;./dating.txt&quot;)
    print(data)
    # 1.实例化一个转换器类
    transfer = MinMaxScaler(feature_range=(2, 3))
    # 2.调用fit_transform
    transfer_data = transfer.fit_transform(data[[&quot;milage&quot;, &quot;Liters&quot;, &quot;Consumtime&quot;]])
    print(&quot;最小值最大值归一化处理的结果：\n&quot;, transfer_data)
</code></pre>
<p>输出结果：</p>
<pre><code class="language-python">   milage     Liters  Consumtime  target
0   40920   8.326976    0.953952       3
1   14488   7.153469    1.673904       2
2   26052   1.441871    0.805124       1
3   75136  13.147394    0.428964       1
4   38344   1.669788    0.134296       1
最小值最大值归一化处理的结果：
 [[2.43582641 2.58819286 2.53237967]
 [2.         2.48794044 3.        ]
 [2.19067405 2.         2.43571351]
 [3.         3.         2.19139157]
 [2.3933518  2.01947089 2.        ]]
</code></pre>
<h4 id="725-归一化总结">7.2.5. 归一化总结</h4>
<p>由于最大值最小值非常容易受异常点影响，所以这种归一化方法的<strong>鲁棒性较差</strong>，<strong>只适合传统精确小数据场景。</strong></p>
<h3 id="73-标准化">7.3. 标准化</h3>
<h4 id="731-定义">7.3.1. 定义</h4>
<p>通过对原始数据进行变换把数据变换到均值为0，标准差为1的范围内</p>
<h4 id="732-公式">7.3.2. 公式</h4>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mo mathvariant="normal">′</mo></msup><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow></mrow><mi>σ</mi></mfrac></mrow><annotation encoding="application/x-tex">{X}&#x27;=\frac{x-\mathrm{mean}}{\sigma}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.801892em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.9463300000000001em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603300000000002em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">e</span><span class="mord mathrm">a</span><span class="mord mathrm">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<blockquote>
<p>作用于每一列，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><annotation encoding="application/x-tex">\mathrm{mean}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">e</span><span class="mord mathrm">a</span><span class="mord mathrm">n</span></span></span></span></span>为平均值，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span>为标准差</p>
</blockquote>
<h4 id="733-api">7.3.3. API</h4>
<ul>
<li><code>sklearn.preprocessing.StandardScaler()</code>
<ul>
<li>处理之后每列的所有数据都聚集在均值0附近，标准差为1</li>
<li><code>StandardScaler.fit_transform(X)</code>
<ul>
<li><code>X</code>：numpy.array格式的数据[n_samples, n_features]</li>
</ul>
</li>
<li>返回值：转换后的形状相同的array</li>
</ul>
</li>
</ul>
<h4 id="734-数据计算">7.3.4. 数据计算</h4>
<pre><code class="language-python">def standard_demo():
    &quot;&quot;&quot;
    归一化演示
    :return: None
    &quot;&quot;&quot;
    data = pd.read_csv(&quot;./dating.txt&quot;)
    print(data)
    # 1.实例化一个转换器类
    transfer = StandardScaler()  # 此时不需要传feature_range
    # 2.调用fit_transform
    transfer_data = transfer.fit_transform(data[[&quot;milage&quot;, &quot;Liters&quot;, &quot;Consumtime&quot;]])
    print(&quot;标准化处理的结果：\n&quot;, transfer_data)
    print(&quot;每一列特征的平均值：\n&quot;, transfer.mean_)
    print(&quot;每一列特征的方差：\n&quot;, transfer.var_)
</code></pre>
<h4 id="735-标准化总结">7.3.5. 标准化总结</h4>
<p>在已有样本足够多的情况下比较稳定，适合现代嘈杂大数据场景。</p>
<h2 id="8-案例鸢尾花种类预测-流程实现">8. 案例：鸢尾花种类预测 - 流程实现</h2>
<h3 id="81-再识k-近邻算法api">8.1. 再识K-近邻算法API</h3>
<ul>
<li><code>sklearn.neighbors.KNeighborsClassifier(n_neighbors=5, algorithm='auto')</code>
<ul>
<li><code>n_neighbors</code>：
<ul>
<li>int，可选（默认=5），k_neighbors查询默认使用的邻居数</li>
</ul>
</li>
<li><code>algorithm</code>：<code>{'auto', 'ball_tree', 'kd_tree', 'brute'}</code>
<ul>
<li>快速K-近邻搜索算法，默认参数为auto，可以理解为算法自己决定合适的搜索算法。除此之外，用户也可以自己指定搜索算法进行搜索。</li>
<li><code>'brute'</code>：暴力搜索，也就是线性扫描，当训练集很大时，计算非常耗时。</li>
<li><code>'kd_tree'</code>：构造kd树存储数据以外对其进行快速检索的树形数据结构，kd树也就是数据结构中的二叉树。以中值切分构造的树，每个节点是一个超矩形，在维数小于20时效率高。</li>
<li><code>'ball_tree'</code>：是为了克服kd树高维失效而发明的，其构造过程是以质心C和半径r分割样本空间，每个节点是一个超球体。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="82-案例鸢尾花种类预测">8.2. 案例：鸢尾花种类预测</h3>
<h4 id="821-数据集介绍">8.2.1. 数据集介绍</h4>
<ul>
<li>实例数量：150（三个类各有50个）</li>
<li>属性数量：4（数值型，数值型，帮助预测的属性和类）</li>
<li>属性信息：
<ul>
<li>sepal length — 萼片长度(cm)</li>
<li>sepal width — 萼片宽度(cm)</li>
<li>petal length — 花瓣长度(cm)</li>
<li>petal width — 花瓣宽度(cm)</li>
</ul>
</li>
<li>类信息：
<ul>
<li>iris-Setosa — 山鸢尾</li>
<li>iris-Versicolour — 变色鸢尾</li>
<li>iris-Virginica — 维吉尼亚鸢尾</li>
</ul>
</li>
</ul>
<h4 id="822-步骤分析">8.2.2. 步骤分析</h4>
<ul>
<li>获取数据集</li>
<li>数据基本处理</li>
<li>特征工程</li>
<li>机器学习（模型训练）</li>
<li>模型评估</li>
</ul>
<h4 id="823-代码过程">8.2.3. 代码过程</h4>
<pre><code class="language-python">from sklearn.datasets import load_iris
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from sklearn.neighbors import KNeighborsClassifier

# 1.获取数据集
iris = load_iris()

# 2.数据基本处理
# 划分出训练集特征值、测试集特征值、训练集目标值、测试集目标值
x_train, x_test, y_train, y_test = train_test_split(iris.data, iris.target, test_size=0.2, random_state=22)

# 3.特征工程：标准化
transfer = StandardScaler()
# 训练集特征值标准化处理
x_train = transfer.fit_transform(x_train)
# 训练集目标值标准化处理
x_test = transfer.transform(x_test)

# 4.机器学习（模型训练）
# 实例化K-近邻算法分类器
estimator = KNeighborsClassifier(n_neighbors=5)
# 将训练集特征值和目标值用K-近邻算法进行训练
estimator.fit(x_train, y_train)

# 5.模型评估
# 将测试集特征值交给训练好的估计器去预测出目标值
y_predict = estimator.predict(x_test)

# 方法1：比较真实值与预测值
print(&quot;预测结果为：\n&quot;, y_predict)
# 将预测出的目标值与训练集的真实目标值进行比对
print(&quot;比对真实值和预测值：\n&quot;, y_predict == y_test)

# 方法2：直接计算准确率
# 将测试集的特征值和目标值交给估计器去计算准确率
score = estimator.score(x_test, y_test)
print(&quot;准确率为：\n&quot;, score)
</code></pre>
<h2 id="9-knn算法总结">9. KNN算法总结</h2>
<h3 id="91-k-近邻算法优缺点汇总">9.1. K-近邻算法优缺点汇总</h3>
<ul>
<li>
<h4 id="优点">优点</h4>
<ul>
<li><strong>简单有效</strong></li>
<li><strong>重新训练的代价低</strong></li>
<li><strong>适合类域交叉样本</strong>
<ul>
<li><strong>KNN方法主要靠周围有限的邻近的样本</strong>，而不是靠判别类域的方法来确定所属类别的，因此对于类域交叉或重叠较多的待分样本来说，KNN方法较其他方法更为适合。</li>
</ul>
</li>
<li><strong>适合大样本自动分类</strong>
<ul>
<li>该算法比较适用于<strong>样本容量比较大的类域的自动分类</strong>，而那些<strong>样本容量较小的类域采用这种算法比较容易产生误分。</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<h4 id="缺点">缺点</h4>
<ul>
<li><strong>惰性学习</strong>
<ul>
<li>KNN算法是懒散学习方法「Lazy Learning，基本上不学习」，一些积极的学习算法要快很多</li>
</ul>
</li>
<li><strong>类别评分而不是规格化</strong>
<ul>
<li>不像一些通过概率评分的分类</li>
</ul>
</li>
<li><strong>输出可解释性不强</strong>
<ul>
<li>例如决策树的输出可解释性就较强</li>
</ul>
</li>
<li><strong>对不均衡的样本不擅长</strong>
<ul>
<li>当样本不平衡时，如一个类的样本容量很大，而其他类样本容量很小时，有可能导致当输入一个新样本时，该样本的K个邻居中大容量类的样本占多数。该算法只计算“最近的”邻居样本，某一类的样本数量很大，那么或者这类样本并不接近目标样本，或者这类样本很靠近目标样本。无论怎样，数量并不能影响运行结果。可以采用权值的方法（和该样本距离小的邻居权值大）来改进。</li>
</ul>
</li>
<li><strong>计算量较大</strong>
<ul>
<li>目前常用的解决方法是事先对已知的样本进行剪辑，事先去除分类作用不大的样本。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="10-交叉验证网格搜索">10. 交叉验证，网格搜索</h2>
<h3 id="101-交叉验证cross-validation">10.1. 交叉验证(cross validation)</h3>
<p>交叉验证：将拿到的训练数据分为训练集和验证集。数据分成x份就称为x折交叉验证。</p>
<p><strong>目的：为了让被评估的数据更加准确可信。</strong></p>
<h3 id="102-网格搜索grid-search">10.2. 网格搜索(Grid Search)</h3>
<p>通常情况下，有很多参数是需要指定的（如k-近邻算法中的k值），这种参数被称为超参数。但是手动过程繁杂，所以需要对模型预设几中超参数组合。<strong>每组超参数都采用交叉验证来进行评估，最后选中最优参数组合建立模型。</strong></p>
<h3 id="103-交叉验证网格搜索模型选择与调优api">10.3. 交叉验证，网格搜索（模型选择与调优）API</h3>
<ul>
<li><code>sklearn.model_selection.GridSearchCV(estimator, param_grid=None, cv=None)</code>
<ul>
<li>对估计器的指定参数进行详尽搜索</li>
<li><code>estimator</code>：估计器对象</li>
<li><code>param_grid</code>：dict，估计器参数，例如：<code>{&quot;n_neighbors&quot;: [1, 3, 5]}</code></li>
<li><code>cv</code>：指定几折交叉验证</li>
</ul>
</li>
<li><code>estimator</code>：
<ul>
<li><code>fit</code>：输入训练数据</li>
<li><code>score</code>：准确率</li>
<li>结果分析：
<ul>
<li><code>best_score_</code>：交叉验证中得到的最好结果</li>
<li><code>best_estimator_</code>：交叉验证中得到的最好的模型</li>
<li><code>cv_results_</code>：每个参数得到的模型结果</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="11-案例2预测facebook签到位置">11. 案例2：预测Facebook签到位置</h2>
<h3 id="111-项目描述">11.1. 项目描述</h3>
<p>项目目的是预测一个人将要签到的地方。其中给定的虚拟世界包括<strong>10km*10km共100 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><msup><mi>m</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">km^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> 的约10w个地方</strong>。对于给定的坐标集，任务是<strong>根据用户的位置，准确性和时间戳等预测用户下一次的签到位置</strong>。数据被制作成类似于来自移动设备的位置数据。</p>
<h3 id="112-数据集介绍">11.2. 数据集介绍</h3>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandas-02-DataFrame运算]]></title>
        <id>https://fade-color.github.io/post/pandas-02-dataframe-yun-suan/</id>
        <link href="https://fade-color.github.io/post/pandas-02-dataframe-yun-suan/">
        </link>
        <updated>2021-04-05T10:54:51.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-算术运算">1. 算术运算</h3>
<ul>
<li>
<p>add(other)</p>
<p>比如进行数学运算加上一个具体数字</p>
<pre><code class="language-python">data[&quot;open&quot;].add(10)  # open列加10
# data[&quot;open&quot;] + 10  # 一般不这么写
</code></pre>
</li>
<li>
<p>sub(other)</p>
<p>用法同add</p>
</li>
</ul>
<h3 id="2-逻辑运算">2. 逻辑运算</h3>
<h4 id="21-逻辑运算符号">2.1. 逻辑运算符号</h4>
<ul>
<li>
<p>逻辑运算类型：&gt;, &gt;=, &lt;, &lt;=, ==, !=</p>
</li>
<li>
<p>复合逻辑运算：&amp;, |, ~ （与，或，非）</p>
</li>
<li>
<p>筛选data[&quot;open&quot;] &gt; 23的日期数据</p>
<pre><code class="language-python"># 返回逻辑结果
data[&quot;open&quot;] &gt; 20

2018-02-27     True
2018-02-26     True
2018-02-23     True
2018-02-22     True
2018-02-14     True
</code></pre>
<pre><code class="language-python"># 通过逻辑结果筛选数据
data[data[&quot;open&quot;] &gt; 23].head()
</code></pre>
</li>
<li>
<p>多个逻辑判断</p>
<pre><code class="language-python">data[(data[&quot;open&quot;]&gt;23) &amp; (data[&quot;open&quot;] &lt; 24)].head()
</code></pre>
</li>
</ul>
<h4 id="22-逻辑运算函数">2.2. 逻辑运算函数</h4>
<ul>
<li>
<p>query(expr)：直接得出结果数据</p>
<ul>
<li>expr：查询字符串</li>
</ul>
<p>通过query使刚才的过程更加方便简洁：</p>
<pre><code class="language-python">data.query(&quot;open&gt;23 &amp; open&lt;24&quot;).head()
</code></pre>
</li>
<li>
<p>isin(values)：生成bool系列，还需要索引才能得出数据</p>
<ul>
<li>values：列表，筛选出存在于该列表中的数据</li>
</ul>
<p>例如筛选出&quot;open&quot;列值为23.23和23.71的数据</p>
<pre><code class="language-python">data[data[&quot;open&quot;].isin([23.23, 23.71])]
</code></pre>
</li>
</ul>
<h3 id="3-统计运算">3. 统计运算</h3>
<h4 id="31-describe">3.1. describe</h4>
<p>综合分析：直接得出很多结果，<code>count</code>，<code>mean</code>，<code>std</code>，<code>min</code>，<code>max</code>等</p>
<pre><code class="language-python"># 计算数量，平均值，标准差，最小值，最大值
data.describe()
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210313113742302.png" alt="image-20210313113742302" loading="lazy"></figure>
<h4 id="32-统计函数">3.2. 统计函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">count</th>
<th style="text-align:center">Number of non-NA observations 每列或每行的非NA单元数量</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sum</td>
<td style="text-align:center">Sum of values 求和</td>
</tr>
<tr>
<td style="text-align:center">mean</td>
<td style="text-align:center">Mean of values 平均值</td>
</tr>
<tr>
<td style="text-align:center">median</td>
<td style="text-align:center">Arithmetic median of values 中位数</td>
</tr>
<tr>
<td style="text-align:center">min</td>
<td style="text-align:center">Minimum 最小值</td>
</tr>
<tr>
<td style="text-align:center">max</td>
<td style="text-align:center">Maximum 最大值</td>
</tr>
<tr>
<td style="text-align:center">mode</td>
<td style="text-align:center">Mode 众数</td>
</tr>
<tr>
<td style="text-align:center">abs</td>
<td style="text-align:center">Absolute Value 绝对值</td>
</tr>
<tr>
<td style="text-align:center">prod</td>
<td style="text-align:center">Product of values 所有元素的乘积</td>
</tr>
<tr>
<td style="text-align:center">std</td>
<td style="text-align:center">Bessel-corrected sample standard deviation 标准差</td>
</tr>
<tr>
<td style="text-align:center">var</td>
<td style="text-align:center">Unbiased variance 无偏方差，均方差</td>
</tr>
<tr>
<td style="text-align:center">idxmax</td>
<td style="text-align:center">compute the index labels with the maximum 最大值的索引</td>
</tr>
<tr>
<td style="text-align:center">idxmin</td>
<td style="text-align:center">compute the index labels with the minimum 最小值的索引</td>
</tr>
</tbody>
</table>
<p><strong>坐标轴默认按照列“columns”(axis=0, default)，如果要指定对行“index”需要指定(axis=1)</strong></p>
<ul>
<li>
<p>max()、min()</p>
<pre><code class="language-python">data.max()

open                34.99
high                36.35
close               35.21
low                 34.01
volume          501915.41
price_change         3.03
p_change            10.03
turnover            12.56

data.min()  # 与max类似
</code></pre>
</li>
<li>
<p>median()</p>
<p>如果没有中位数，取中间两个数的平均值</p>
</li>
</ul>
<h4 id="33-累计统计函数">3.3. 累计统计函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">cumsum</td>
<td style="text-align:center">计算前1/2/3/.../n个数的和</td>
</tr>
<tr>
<td style="text-align:center">cummax</td>
<td style="text-align:center">计算前1/2/3/.../n个数的最大值</td>
</tr>
<tr>
<td style="text-align:center">cummin</td>
<td style="text-align:center">计算前1/2/3/.../n个数的最小值</td>
</tr>
<tr>
<td style="text-align:center">cumprod</td>
<td style="text-align:center">计算前1/2/3/.../n个数的积</td>
</tr>
</tbody>
</table>
<p>这些函数可以对series和dataframe操作</p>
<p>例如统计股票&quot;p_change&quot;变化情况：</p>
<ul>
<li>
<p>排序（按照时间先后进行累计）</p>
<pre><code class="language-python">data = data.sort_index()
</code></pre>
</li>
<li>
<p>对p_change列进行累计求和</p>
<pre><code class="language-python">stock_rise = data[&quot;p_change&quot;]
stock_rise.cumsum()

2015-03-02      2.62
2015-03-03      4.06
2015-03-04      5.63
2015-03-05      7.65
2015-03-06     16.16
               ...  
2018-02-14    112.59
2018-02-22    114.23
2018-02-23    116.65
2018-02-26    119.67
2018-02-27    122.35
Name: p_change, Length: 643, dtype: float64
</code></pre>
</li>
<li>
<p>通过折线图展示</p>
<blockquote>
<p>使用<code>plot</code>函数需要导入matplotlib.</p>
</blockquote>
<pre><code class="language-python">import matplotlib.pyplot as plt
# 用plot显示图形
stock_rise.cumsum().plot()
# 需要调用show才能显示
plt.show()
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2021/04/18/GYpUaBrLiuNX2Ef.png" alt="image-20210418190538126" loading="lazy"></figure>
<p>画图函数说明：</p>
<ul>
<li><code>DataFrame.plot(kind='line')</code>
<ul>
<li>kind: str，需要绘制图形的种类
<ul>
<li><strong>'line': line plot (default)</strong></li>
<li>'bar': vertical bar plot</li>
<li>'barh': horizontal bar plot
<ul>
<li><a href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.barh.html">关于'barh'的解释</a></li>
</ul>
</li>
<li>'hist': histogram</li>
<li>'pie': pie plot</li>
<li>'scatter': scatter plot</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-自定义运算">4. 自定义运算</h3>
<ul>
<li>
<p>apply(func, axis=0)</p>
<ul>
<li>func: 自定义函数</li>
<li>axis=0: 默认列，1为行</li>
</ul>
<pre><code class="language-python">data[[&quot;open&quot;, &quot;close&quot;]].apply(lambda x: x.max() - x.min(), axis=0)
open     22.74
close    22.85
dtype: float64
</code></pre>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandas-01-基本数据操作]]></title>
        <id>https://fade-color.github.io/post/pandas-01-ji-ben-shu-ju-cao-zuo/</id>
        <link href="https://fade-color.github.io/post/pandas-01-ji-ben-shu-ju-cao-zuo/">
        </link>
        <updated>2021-04-04T12:59:46.000Z</updated>
        <content type="html"><![CDATA[<ul>
<li>导入数据</li>
</ul>
<pre><code class="language-python"># 读取文件
data = pd.read_csv(&quot;./data/stock_day.csv&quot;)

# 删除一些无用列
data = data.drop([&quot;ma5&quot;, &quot;ma10&quot;, &quot;ma20&quot;, &quot;v_ma5&quot;, &quot;v_ma10&quot;, &quot;v_ma20&quot;], axis=1)
</code></pre>
<img src="https://gitee.com/fadecolor/pic_cloud/raw/master/image-20210312104037221.png" alt="image-20210312104037221" style="zoom:50%;" />
<h3 id="1-索引操作">1. 索引操作</h3>
<ul>
<li>
<p>直接行列索引（先列后行）</p>
<pre><code class="language-python"># 先列后行
data[&quot;open&quot;][&quot;2018-02-27&quot;]  # 23.53

# 取前两行的high和low
data[0:2][[&quot;high&quot;, &quot;low&quot;]]

# 不支持的操作
# 先行后列
data[&quot;2018-02-27&quot;][&quot;open&quot;]
# 切片
data[:1, :2]
</code></pre>
</li>
<li>
<p>使用loc和iloc索引</p>
<pre><code class="language-python"># loc:仅支持行列名索引
data.loc[&quot;2018-02-27&quot;:&quot;2018-02-14&quot;, &quot;open&quot;:&quot;close&quot;]

# iloc:通过下标进行索引
data.iloc[:3, :5]  # 前3行，前5列
</code></pre>
</li>
<li>
<p>使用ix组合索引</p>
<blockquote>
<p>在pandas 0.20.0版本中此方法被废弃，使用.iloc和.loc组合索引。</p>
</blockquote>
<p>获取第1-4天，[&quot;open&quot;, &quot;close&quot;, &quot;high&quot;, &quot;low&quot;]这四个指标的结果</p>
<pre><code class="language-python"># 使用ix进行下标和列名组合索引
data.ix[0:4, [&quot;open&quot;, &quot;close&quot;, &quot;high&quot;, &quot;low&quot;]]

# 推荐使用loc和iloc组合
data.loc[data.index[0:4], [&quot;open&quot;, &quot;close&quot;, &quot;high&quot;, &quot;low&quot;]]
# 或
data.iloc[0:4, data.columns.get_indexer([&quot;open&quot;, &quot;close&quot;, &quot;high&quot;, &quot;low&quot;])]
</code></pre>
</li>
</ul>
<h3 id="2-赋值操作">2. 赋值操作</h3>
<pre><code class="language-python"># 直接修改原来的值
data[&quot;close&quot;] = 1
# 或者
data.close = 1
</code></pre>
<h3 id="3-排序">3. 排序</h3>
<h4 id="31-dataframe排序">3.1. DataFrame排序</h4>
<ul>
<li>
<p>使用<code>dataframe.sort_values(by=,ascending=)</code></p>
<ul>
<li>指定单个键或多个键进行排序</li>
<li>参数：
<ul>
<li>by：指定排序参考的键</li>
<li>ascending：默认升序
<ul>
<li><code>ascending=True</code>：升序</li>
<li><code>ascending=False</code>：降序</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="language-python"># 根据开盘价降序排序
data.sort_values(by=&quot;open&quot;, ascending=False).head()

# 根据开盘价和最高价升序排序
data.sort_values(by=[&quot;open&quot;, &quot;high&quot;], ascending=True).head()
</code></pre>
</li>
<li>
<p>使用<code>dataframe.sort_index()</code>以索引进行排序</p>
<p>默认升序，同样可以指定<code>ascending=False</code>来进行降序排序</p>
<pre><code class="language-python"># 以行（日期）进行升序排序
data.sort_index()
</code></pre>
</li>
</ul>
<h4 id="32-series排序">3.2. Series排序</h4>
<ul>
<li>
<p>使用<code>series.sort_values(ascending=)</code>以列排序</p>
<pre><code class="language-python">data[&quot;high&quot;].sort_values().head()
</code></pre>
</li>
<li>
<p>使用<code>series.sort_index(ascending=)</code>以索引排序</p>
<pre><code class="language-python">data[&quot;high&quot;].sort_index(ascending=False).head()
</code></pre>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Matplotlib更改plot样式]]></title>
        <id>https://fade-color.github.io/post/matplotlib-geng-gai-plot-yang-shi/</id>
        <link href="https://fade-color.github.io/post/matplotlib-geng-gai-plot-yang-shi/">
        </link>
        <updated>2021-04-04T12:33:40.000Z</updated>
        <content type="html"><![CDATA[<p>觉得Matplotlib.pyplot原本的样式不够好看，于是就研究了一下怎么更改其样式</p>
<p>plt是自带了很多样式的，输入以下代码查看自带样式：</p>
<pre><code class="language-python">import matplotlib.pyplot as plt

plt.style.available
</code></pre>
<p>输出结果如下：</p>
<pre><code class="language-python">['Solarize_Light2',
 '_classic_test_patch',
 'bmh',
 'classic',
 'dark_background',
 'fast',
 'fivethirtyeight',
 'ggplot',
 'grayscale',
 'seaborn',
 'seaborn-bright',
 'seaborn-colorblind',
 'seaborn-dark',
 'seaborn-dark-palette',
 'seaborn-darkgrid',
 'seaborn-deep',
 'seaborn-muted',
 'seaborn-notebook',
 'seaborn-paper',
 'seaborn-pastel',
 'seaborn-poster',
 'seaborn-talk',
 'seaborn-ticks',
 'seaborn-white',
 'seaborn-whitegrid',
 'tableau-colorblind10']
</code></pre>
<p>这里就是全部自带的主题了</p>
<p>应用样式：</p>
<pre><code class="language-python">plt.style.use('seaborn-darkgrid')
</code></pre>
<p>再进行画图就可以看到效果了</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2021/04/17/aeUEAoxN3SB19pq.png" alt="函数" loading="lazy"></figure>
<p>如果想要将该样式设为默认，就要修改<code>matplotlibrc</code>文件使其永久生效：</p>
<p>找到要应用的样式文件（以seaborn-darkgrid为例）：</p>
<p>windows下可以用everything进行搜索，mac下可以进到python包目录下的matplotlib文件夹下搜索</p>
<p>搜索<code>seaborn-darkgrid.mplstyle</code>文件，如下：</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2021/04/17/TdUYaQoZmyHsh2q.png" alt="image-20210417103801262" loading="lazy"></figure>
<p>用文本编辑器打开内容如下：</p>
<pre><code class="language-yml"># Seaborn common parameters
# .15 = dark_gray
# .8 = light_gray
figure.facecolor: white
text.color: .15
axes.labelcolor: .15
legend.frameon: False
legend.numpoints: 1
legend.scatterpoints: 1
xtick.direction: out
ytick.direction: out
xtick.color: .15
ytick.color: .15
axes.axisbelow: True
image.cmap: Greys
font.family: sans-serif
font.sans-serif: Arial, Liberation Sans, DejaVu Sans, Bitstream Vera Sans, sans-serif
grid.linestyle: -
lines.solid_capstyle: round

# Seaborn darkgrid parameters
axes.grid: True
axes.facecolor: EAEAF2
axes.edgecolor: white
axes.linewidth: 0
grid.color: white
xtick.major.size: 0
ytick.major.size: 0
xtick.minor.size: 0
ytick.minor.size: 0
</code></pre>
<p>接下来找到<code>matplotlibrc</code>文件：</p>
<ul>
<li>Mac：直接打开终端输入<code>vim ~/.matplotlib/matplotlibrc</code></li>
<li>Win：在<code>C:/Users</code>找到用户目录进入后把显示隐藏文件打开，进入到<code>.matplotlib</code>文件夹即可找到该文件（如果没有就新建一个）</li>
</ul>
<p>将<code>seaborn-darkgrid.mplstyle</code>文件中的内容复制到<code>matplotlibrc</code>文件中即可。</p>
<p>重启JupyterLab即可看到效果。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[JupyterLab 显示中文字体]]></title>
        <id>https://fade-color.github.io/post/Jupyterlab-xian-shi-zhong-wen-zi-ti/</id>
        <link href="https://fade-color.github.io/post/Jupyterlab-xian-shi-zhong-wen-zi-ti/">
        </link>
        <updated>2021-04-03T09:28:28.000Z</updated>
        <content type="html"><![CDATA[<h3 id="查看当前系统jupyterlab支持的所有字体">查看当前系统JupyterLab支持的所有字体</h3>
<pre><code class="language-python">from matplotlib.font_manager import FontManager

mpl_fonts = set(f.name for f in FontManager().ttflist)

print('all font list get from matplotlib.font_manager:')
for f in sorted(mpl_fonts):
    print('\t' + f)
</code></pre>
<p>打印结果如下：</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2021/04/17/y85rFj3HD6aTdsL.png" alt="image-20210417092307128" loading="lazy"></figure>
<p>选择一款中文字体即可，这里我选择的是苹果的冬青黑体：&quot;Hiragino Sans GB&quot;，windows用户可以选择黑体（SimHei）</p>
<h3 id="删除缓存文件">删除缓存文件</h3>
<p>Mac：</p>
<ul>
<li>
<pre><code class="language-bash">cd ~/.matplotlib
rm -r *
</code></pre>
</li>
</ul>
<p>Windows：</p>
<ul>
<li>
<p>进入到自己的用户目录文件夹下，在资源管理器的“查看”选项卡中勾选“显示隐藏文件及目录”即可看到<code>.matplotlib</code>文件夹，或者直接在资源管理器的路径栏中在路径后面手动输入<code>.matplotlib</code>后回车即可进入该文件夹</p>
</li>
<li>
<p>然后把该文件夹内的资源删除即可。</p>
</li>
</ul>
<h3 id="修改matplotlibrc配置文件">修改matplotlibrc配置文件</h3>
<p>Mac：</p>
<ul>
<li>
<p>输入<code>vim ~/.matplotlib/matplotlibrc</code>：</p>
<p>然后将文件内容修改为：</p>
<pre><code>font.family         : sans-serif
font.sans-serif         : Hiragino Sans GB
axes.unicode_minus  : False
</code></pre>
<p><code>font.sans-serif</code>后面改为自己选择的字体即可。</p>
</li>
</ul>
<p>Win：</p>
<ul>
<li>在<code>.matplotlib</code>文件夹中新建matplotlibrc文件，把上面内容粘贴进去后<code>.txt</code>后缀名删掉即可。</li>
</ul>
<h3 id="重启jupyterlab内核">重启JupyterLab内核</h3>
<p>接下来重启一下JupyterLab内核即可看到效果。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Numpy基本操作]]></title>
        <id>https://fade-color.github.io/post/numpy-ji-ben-cao-zuo/</id>
        <link href="https://fade-color.github.io/post/numpy-ji-ben-cao-zuo/">
        </link>
        <updated>2021-04-01T01:55:14.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-数组创建">1. 数组创建</h3>
<p>numpy中所有的计算都是围绕着数组进行的，因此在运算之前，我们需要将计算的数据表示成数组的形式。</p>
<ul>
<li>
<p>我们可以用<code>np.array()</code>来创建一个数组：</p>
<pre><code class="language-python">np.array([1, 2, 3, 4, 5])
# array([1, 2, 3, 4, 5])
</code></pre>
</li>
<li>
<p><code>np.zeros()</code>创建一个全为零的数组：</p>
<pre><code class="language-python">np.zeros((2, 3))  # 参数为元组，表示2行3列

# array([[0., 0.],
#        [0., 0.],
#        [0., 0.]])
</code></pre>
</li>
<li>
<p>类似地，可以使用<code>np.ones()</code>创建一个全为1的数组：</p>
<pre><code class="language-python">np.ones((2, 4))

# array([[1., 1., 1., 1.],
#        [1., 1., 1., 1.]])
</code></pre>
</li>
<li>
<p>使用<code>np.arange()</code>创建一个递增或递减的数列，类似于python的<code>range()</code>。</p>
<pre><code class="language-python">np.arange(3, 7)  # [3, 7)
# array([3, 4, 5, 6])
np.arange(3, 10, 2)
# array([3, 5, 7, 9])
np.arange(10, 2, -3)
#array([10,  7,  4])
</code></pre>
</li>
<li>
<p><code>np.linspace()</code>会返回介于某个区间等间距分布的数，前两个参数是区间的范围，第三个参数是输出样本的总数：</p>
<pre><code class="language-python"># 返回一个0-1范围内等间距分布的5个数
np.linspace(0, 1, 5)
# array([0.  , 0.25, 0.5 , 0.75, 1.  ])
</code></pre>
</li>
<li>
<p>通过<code>np.random.rand()</code>生成随机的数组(数字范围0-1)：</p>
<pre><code class="language-python">np.random.rand(2, 4)
# array([[0.90823579, 0.13280413, 0.48167232, 0.47886157],
#        [0.73089321, 0.39703329, 0.09461766, 0.5481924 ]])
</code></pre>
</li>
<li>
<p>在numpy中，数组默认的数据类型是64位的浮点数：</p>
<pre><code class="language-python">a = np.zeros((2, 4))
a.dtype
# dtype('float64')
</code></pre>
</li>
<li>
<p>可以在创建数组时，通过<code>dtype</code>指定其他的数据类型：</p>
<pre><code class="language-python">a = np.zeros((2, 4), dtype=np.int32)
a.dtype
# dtype('int32')
</code></pre>
<p>也可以通过<code>araay.astype()</code>来转换数据类型：</p>
<pre><code class="language-python">b = a.astype(int)
b
# array([[0, 0, 0, 0],
#        [0, 0, 0, 0]])
</code></pre>
</li>
</ul>
<h3 id="2-基本运算">2. 基本运算</h3>
<p>在numpy中我们可以轻松地对数组进行常见的数学运算。</p>
<ul>
<li>
<p>两个相同尺寸的数组可以直接进行四则运算，它会将数组同位置的元素进行加减乘除：</p>
<pre><code class="language-python">a = np.array([1, 2, 3])
b = np.array([4, 5, 6])
a + b
# array([5, 7, 9])
a / b
# array([0.25, 0.4 , 0.5 ])
</code></pre>
</li>
<li>
<p>在乘法运算中还有一个点乘<code>np.dot()</code>，这个函数会对两个向量进行点乘运算：</p>
<pre><code class="language-python">np.dot(a, b)
# 32
</code></pre>
</li>
<li>
<p>与之类似的还有矩阵乘法<code>np.matmul()</code></p>
<pre><code class="language-python">a = np.array([[1, 2],
              [3, 4]])
b = np.array([[2, 0],
              [0, 2]])
np.matmul(a, b)
a @ b
# array([[2, 4],
#        [6, 8]])
</code></pre>
</li>
<li>
<p>以下函数对数组中所有数依次运算：</p>
<table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">np.sqrt()</td>
<td style="text-align:center">开方</td>
</tr>
<tr>
<td style="text-align:center">np.sin(), np.cos(), np.tan()</td>
<td style="text-align:center">三角函数运算</td>
</tr>
<tr>
<td style="text-align:center">np.log()</td>
<td style="text-align:center">自然对数</td>
</tr>
<tr>
<td style="text-align:center">np.power()</td>
<td style="text-align:center">指数</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>广播：</p>
<pre><code class="language-python">a = np.array([1, 2, 3])
a * 5
# array([5, 10, 15])
</code></pre>
<p>不同维度的数组也可以进行直接运算</p>
<pre><code class="language-python">a = np.array([[1],
              [10],
              [20]])
b = np.array([0, 1, 2])
a + b
# array([[ 1,  2,  3],
#        [10, 11, 12],
#        [20, 21, 22]])
</code></pre>
<p>在运算之前，numpy会将这两个数组扩展至相同的尺寸，然后再将相同位置的元素相加</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2021/03/22/3ZAxQgTJN6GhW4H.png" alt="222" loading="lazy"></figure>
</li>
<li>
<p>常用函数：</p>
<table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">min(), max()</td>
<td style="text-align:center">最小值，最大值</td>
</tr>
<tr>
<td style="text-align:center">argmin(), argmax()</td>
<td style="text-align:center">最小值，最大值的索引</td>
</tr>
<tr>
<td style="text-align:center">sum()</td>
<td style="text-align:center">求所有数据的总和</td>
</tr>
<tr>
<td style="text-align:center">mean()</td>
<td style="text-align:center">平均值</td>
</tr>
<tr>
<td style="text-align:center">median()</td>
<td style="text-align:center">中位数</td>
</tr>
<tr>
<td style="text-align:center">var()</td>
<td style="text-align:center">方差</td>
</tr>
<tr>
<td style="text-align:center">std()</td>
<td style="text-align:center">标准差</td>
</tr>
</tbody>
</table>
<p>对于上面的函数，如果数组为多维数组，可以通过指定axis来指定维度：</p>
<p>axis=0时，会将每一<strong>行</strong>中<strong>对应的数据</strong>相加，axis=0代表第一个维度，也就是行</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2021/03/23/ztaGP1qy5TjViYX.png" alt="image-20210323091551739" loading="lazy"></figure>
<pre><code class="language-python">a = np.array([[1, 2, 3, 4, 5],
              [5, 6, 7, 8, 9]])
a.sum()  # 所有元素的和
# 50
a.sum(axis=0)  # 每行对应数据相加，也就是按列求和
# array([ 6,  8, 10, 12, 14])
</code></pre>
<p>以此类推，axis=1时代表第二个维度，也就是列</p>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2021/03/23/PZ5OTM6wltbBmgF.png" alt="image-20210323091742759" loading="lazy"></figure>
<pre><code class="language-python">a.sum(axis=1)  # 每列对应数据相加，也就是按行求和
# array([15, 35])
</code></pre>
</li>
<li>
<p>获取元素</p>
<p>获取元素和python中list用法基本一致</p>
<pre><code class="language-python">a = np.array([[1, 2, 3],
              [4, 5, 6]])
# 获取第1行第2列的值
a[0, 1]  # a[0][1]同样
# 2
</code></pre>
<p>同样支持切片</p>
<pre><code class="language-python"># 获取第一行[0,2)列的数据
a[0, 0:2]  # a[0][0:2]
# array([1, 2])

# 获取第一行数据
a[0, :]  # a[0][:]
a[0]
# array([1, 2, 3])

# 获取第一行数据，间距为2
a[0, ::2]
# array([1, 3])

# 获取第一行数据，倒序，间距为2
a[0, ::-2]
# 等同于
a[0, -1:-4:-2]  # 倒数第一个到倒数第四个(不包括)，间距为2
# array([3, 1])

a[0, 3:0:-2]  # 从3到0(不包括0)，跨度为2
# array([3])
</code></pre>
</li>
<li>
<p>条件筛选指定元素</p>
<pre><code class="language-python">a = np.arange(10)
a
# array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])

a &lt; 2
# array([ True,  True, False, False, False, False, False, False, False,
#        False])

a[a &lt; 2]
# array([0, 1])
</code></pre>
<p>还可以通过逻辑运算符组合不同的条件，需要注意的是，与运算使用“&amp;”，或运算使用“|”</p>
<pre><code class="language-python">a[(a &gt; 3) &amp; (a % 2 == 0)]
# array([4, 6, 8])

a[(a &lt; 5) | (a % 2 == 0)]
# array([0, 1, 2, 3, 4, 6, 8])
</code></pre>
<p>不能使用类似<code>2 &lt; a &lt; 5</code>这种条件筛选</p>
<pre><code class="language-python">a[(2 &lt; a &lt; 5) | (a % 2 == 0)]  # 报错
# ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
</code></pre>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Python装饰器总结]]></title>
        <id>https://fade-color.github.io/post/python-zhuang-shi-qi-zong-jie/</id>
        <link href="https://fade-color.github.io/post/python-zhuang-shi-qi-zong-jie/">
        </link>
        <updated>2021-03-16T13:00:30.000Z</updated>
        <content type="html"><![CDATA[<h3 id="装饰器">装饰器</h3>
<pre><code class="language-python"># --------------- 装饰器 --------------- #
def decorator1(func):  # 传入被装饰的函数
    # 嵌套内函数可以看做被装饰的函数
    def inner():
        print(&quot;-------- inner --------&quot;)
        func()
        print(&quot;-----------------------&quot;)

    return inner


@decorator1
def func1():
    print(&quot;This is func1...&quot;)


func1()
print()
</code></pre>
<p>打印结果：</p>
<pre><code>-------- inner --------
This is func1...
-----------------------
</code></pre>
<h3 id="被装饰的函数带参数的装饰器">被装饰的函数带参数的装饰器</h3>
<pre><code class="language-python"># --------------- 被装饰的函数带参数的装饰器 --------------- #
def decorator2(func):  # 传入被装饰的函数
    # 嵌套内函数可以看做被装饰的函数，所以被装饰函数的参数要写在inner的形参列表里，调用被装饰的函数时传入
    def inner(arg):
        print(&quot;-------- inner --------&quot;)
        func(arg)
        print(&quot;-----------------------&quot;)

    return inner


@decorator2
def func2(arg):
    print(f&quot;This is func2...arg:{arg}&quot;)


func2(&quot;hello&quot;)
print()
</code></pre>
<p>打印结果：</p>
<pre><code>-------- inner --------
This is func2...arg:hello
-----------------------
</code></pre>
<h3 id="带返回值的函数的装饰器">带返回值的函数的装饰器</h3>
<pre><code class="language-python"># --------------- 带返回值函数的装饰器 --------------- #
def decorator3(func):  # 传入被装饰的函数
    # 嵌套内函数可以看做被装饰的函数，所以被装饰函数的参数要写在inner的形参列表里，调用被装饰的函数时传入
    def inner(arg):
        print(&quot;-------- inner --------&quot;)
        str_ = func(arg)
        print(&quot;-----------------------&quot;)
        return str_

    return inner


@decorator3
def func3(arg):
    return f&quot;This is func3...arg:{arg}&quot;


print(func3(&quot;hello&quot;), &quot;\n&quot;)
</code></pre>
<p>打印结果：</p>
<pre><code>-------- inner --------
-----------------------
This is func3...arg:hello 
</code></pre>
<h3 id="带参数的装饰器">带参数的装饰器</h3>
<pre><code class="language-python"># --------------- 带参数的装饰器 --------------- #
def decorator4(deco_arg):  # 带参数的装饰器再嵌套一层函数，传入装饰器的参数
    def outer(func):  # 传入被装饰的函数
        # 嵌套内函数可以看做被装饰的函数，所以被装饰函数的参数要写在inner的形参列表里，调用被装饰的函数时传入
        def inner(arg):  # 被装饰的函数的参数
            print(&quot;-------- inner --------&quot;)
            print(&quot;decorator_arg:&quot;, deco_arg)
            func(arg)
            print(&quot;-----------------------&quot;)

        return inner

    return outer


# 括号表示函数的调用，可以理解为此时调用了decorator4函数，此函数返回一个真正要用的装饰器outer
@decorator4(&quot;deco_arg&quot;)
def func4(arg):
    print(f&quot;This is func4...arg:{arg}&quot;)


func4(&quot;hello&quot;)
print()
</code></pre>
<p>打印结果：</p>
<pre><code>-------- inner --------
decorator_arg: deco_arg
This is func4...arg:hello
-----------------------
</code></pre>
<h3 id="多个装饰器">多个装饰器</h3>
<pre><code class="language-python"># --------------- 多个装饰器 --------------- #
def decorator5(func):
    print(&quot;This is decorator5...&quot;)

    def inner(arg):  # 被装饰的函数inner及其参数
        print(&quot;----- decorator5 inner -----&quot;)
        func(arg)  # 此时调用的是inner(arg)
        print(&quot;----------------------------&quot;)

    return inner


def decorator6(func):
    print(&quot;This is decorator6...&quot;)

    def inner(arg):  # 被装饰的函数func4及其参数
        print(&quot;----- decorator6 inner -----&quot;)
        func(arg)  # 调用func5
        print(&quot;----------------------------&quot;)

    return inner


@decorator5
@decorator6
def func5(arg):
    print(f&quot;This is func5... arg:{arg}&quot;)


func5(&quot;hello&quot;)

# 等同于
# func4 = decorator4(decorator5(func4))
# func4(&quot;hello&quot;)
</code></pre>
<p>打印结果：</p>
<pre><code>This is decorator6...
This is decorator5...
----- decorator5 inner -----
----- decorator6 inner -----
This is func5... arg:hello
----------------------------
----------------------------
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Python的解包]]></title>
        <id>https://fade-color.github.io/post/python-de-jie-bao/</id>
        <link href="https://fade-color.github.io/post/python-de-jie-bao/">
        </link>
        <updated>2021-03-11T12:36:46.000Z</updated>
        <content type="html"><![CDATA[<h4 id="元组解包">元组解包</h4>
<pre><code class="language-python">a, b, c = (1, 2, 3)
# a:1 b:2 c:3
</code></pre>
<h4 id="字符串解包">字符串解包</h4>
<pre><code class="language-python">a, b, c = &quot;xyz&quot;
# a:x b:y c:z
</code></pre>
<h4 id="字典解包">字典解包</h4>
<p>字典解包后，只会把字典的key取出来，value则丢掉了。</p>
<pre><code class="language-python">a, b, c = {&quot;a&quot;:1, &quot;b&quot;:2, &quot;c&quot;:3}
# a:'a' b:'b' c:'c'
</code></pre>
<h4 id="等号左右元素不等时的解包">等号左右元素不等时的解包</h4>
<p>在 Python2 中，如果等号左边变量的个数不等于右边可迭代对象中元素的个数，是不允许解包的。但在 <strong>Python3</strong> 可以这么做了。这个特性可以在 PEP 3132 中看到。</p>
<p>这种语法就是在某个变量面前加一个星号，而且这个星号可以放在任意变量，每个变量都分配一个元素后，剩下的元素都分配给这个带星号的变量。</p>
<pre><code class="language-python">a, b, *c = [1, 2, 3, 4]
# a:1 b:2 c:[3, 4]

# *号可以在任意位置
a, *b, c = [1, 2, 3, 4]
# a:1 b:[2, 3] c:4
</code></pre>
<h4 id="函数调用时的解包">函数调用时的解包</h4>
<ul>
<li>
<p>元组，列表，字符串等传入函数时的解包：</p>
<pre><code class="language-python">def func(a, b, c):
    print(a, b, c)

func(*[1, 2, 3])
func(*(1, 2, 3))
func(*&quot;123&quot;)
# 以上三条语句都等同于
func(1, 2, 3)
</code></pre>
</li>
<li>
<p>字典会以key=value的格式解包传入函数：</p>
<pre><code class="language-python">func(**{&quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: 3})
# 等同于
func(a=1, b=2, c=3)
</code></pre>
<blockquote>
<p>字典的key必须和形参名保持一致，否则会报错</p>
</blockquote>
</li>
<li>
<p>从<strong>Python3.5</strong>开始，在函数调用中可以有任意多个解包操作：</p>
<pre><code class="language-python">func(*(1,), *[2], **{&quot;c&quot;: 3})
</code></pre>
</li>
</ul>
<h4 id="表达式中的解包">表达式中的解包</h4>
<pre><code class="language-python">*range(4), 4
# (0, 1, 2, 3, 4)

[*range(4), 4]
# [0, 1, 2, 3, 4]

{*range(4), 4}
# {0, 1, 2, 3, 4}

{&quot;x&quot;: 1, &quot;y&quot;: 2, **{&quot;z&quot;: 3}}
# {'x': 1, 'y': 2, 'z': 3}

[*[1, 2, 3], *range(4, 8)]
# [1, 2, 3, 4, 5, 6, 7]

a = {&quot;x&quot;: 1, &quot;y&quot;: 2}
b = {&quot;z&quot;: 3}
{**a, **b}
# {'x': 1, 'y': 2, 'z': 3}
</code></pre>
<h4 id="总结">总结</h4>
<ol>
<li>自动解包支持一切可迭代对象。</li>
<li>python3中，支持更高级的解包操作，用星号操作使得等号左边的变量个数可以少于右边迭代对象中元素的个数。</li>
<li>函数调用时，可以用 <code>*</code> 或者<code>**</code>解包可迭代对象，作为参数传递。</li>
<li>python3.5，函数调用和表达式中可支持更多的解包操作。</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mac设置终端ssh自动登录]]></title>
        <id>https://fade-color.github.io/post/mac-she-zhi-zhong-duan-ssh-zi-dong-deng-lu/</id>
        <link href="https://fade-color.github.io/post/mac-she-zhi-zhong-duan-ssh-zi-dong-deng-lu/">
        </link>
        <updated>2021-03-02T09:32:37.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-安装expect">1. 安装expect</h3>
<pre><code class="language-bash">brew install expect
</code></pre>
<h3 id="2-编写expect登录脚本">2. 编写expect登录脚本</h3>
<p>输入 <code>touch login.exp</code> 新建脚本</p>
<p>接着输入 <code>vim ./login.exp</code> 编辑脚本，代码如下：</p>
<pre><code class="language-bash">#!/usr/bin/expect -f

# 定义第一个空格后的第一个变量是host
set hostname [lindex $argv 0]
# 定义第一个空格后的第二个变量是用户名
set username [lindex $argv 1]
# 定义第一个空格后的第三个变量是密码
set password [lindex $argv 2]
# 等待登录输入密码的时间，单位秒
set timeout 30
set force_conservative 1
if {$force_conservative} {
  set send_slow {128 .1}
}
# 执行登录ssh
spawn ssh $username@$hostname;

expect {
        # 出现yes/no 时输入yes
    &quot;yes/no&quot; {
    send -s &quot;yes\r&quot;; exp_continue
    }
    # 出现password 自动输入变量密码
    &quot;password&quot; {
        send -s &quot;$password\r&quot;;
    }
}
# 执行过后把权限交给终端
interact
</code></pre>
<p>这样就可以通过命令<code>expect ./login.exp IP地址 用户名 密码</code>来进行登录服务器了。</p>
<h3 id="3-编写bash脚本">3. 编写bash脚本</h3>
<p>分别输入</p>
<pre><code class="language-bash">touch sshlogin.sh
vim ./sshlogin.sh
</code></pre>
<p>在脚本中粘贴以下代码（注意修改脚本中的ip地址用户名密码信息）：</p>
<pre><code class="language-bash">#!/bin/bash

clear
RED='\033[0;31m'
GRN='\033[0;32m'
BLU='\033[0;34m'
NC='\033[0m'
# 获取执行login.exp路径
pwdpath=$(cd &quot;$(dirname &quot;$0&quot;)&quot;;pwd)
# ssh登录脚本指令, 注意这里要跟脚本命名要一致
ssh=&quot;expect $pwdpath/login.exp&quot;

# menu.sh

echo &quot;---------------------------------------------------------------&quot;
echo &quot;|              __                                             |&quot;
echo &quot;|            _/  |_  ____ ______      ____  __ __  ____       |&quot;
echo &quot;|            \   __\/  _ \\____ \    / ___\|  |  \/    \       |&quot;
echo &quot;|             |  | (  &lt;_&gt; )  |_&gt; &gt;  / /_/  &gt;  |  /   |  \     |&quot;
echo &quot;|             |__|  \____/|   __/   \___  /|____/|___|  /     |&quot;
echo &quot;|                         |__|     /_____/            \/      |&quot;
echo &quot;---------------------------------------------------------------&quot;

# 服务器提示目录，可以根据自己需求修改
echo &quot;--------------------------------------&quot;
echo &quot;please enter your Server:&quot;
echo -e &quot;(1) ${GRN}Linux Tencent qinian${NC}&quot;
echo &quot;(2) Linux Tencent(disabled)&quot;
echo &quot;(3) exit&quot;
echo &quot;--------------------------------------&quot;
read -p &quot;请选择服务器:&quot; input

case ${input} in
    1)
    echo -e &quot;${GRN}Linux Tencent qinian${NC}&quot;
    $ssh ip地址 用户名 密码
    sleep 1;;
    2)
    # echo -e &quot;${GRN}Linux Tencent${NC}&quot;
    # $ssh ip地址 用户名 密码
    sleep 1;;
    3)
    exit;;
esac
</code></pre>
<h3 id="4-修改脚本权限">4. 修改脚本权限</h3>
<pre><code class="language-bash">chmod 755 sshlogin.sh
</code></pre>
<p>修改完成后就可以使用 <code>./sshlogin.sh</code> 命令来执行脚本</p>
<h3 id="5-运行脚本">5. 运行脚本</h3>
<p>输入 <code>./sshlogin.sh</code> 命令来执行脚本，出现以下界面：</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2021/03/25/zc7eWR25rCXOpZf.png" alt="image-20210325215920244" loading="lazy"></figure>
<p>输入序号后回车即可。</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2021/03/25/t9L4fdlnYXF1hKR.png" alt="image-20210325220057506" loading="lazy"></figure>
]]></content>
    </entry>
</feed>